{"remainingRequest":"/opt/myblog/vuepress-theme-reco-master/zdblog/node_modules/babel-loader/lib/index.js??ref--3-1!/opt/myblog/vuepress-theme-reco-master/zdblog/node_modules/follow-redirects/index.js","dependencies":[{"path":"/opt/myblog/vuepress-theme-reco-master/zdblog/node_modules/follow-redirects/index.js","mtime":1603041210442},{"path":"/opt/myblog/vuepress-theme-reco-master/zdblog/node_modules/cache-loader/dist/cjs.js","mtime":1603041438982},{"path":"/opt/myblog/vuepress-theme-reco-master/zdblog/node_modules/babel-loader/lib/index.js","mtime":1603041438713}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:cmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZvci1lYWNoIik7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaW5kZXgtb2YiKTsKCnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QuY3JlYXRlIik7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmRlZmluZS1wcm9wZXJ0eSIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC5rZXlzIik7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMiKTsKCnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuc2VhcmNoIik7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaCIpOwoKdmFyIF90eXBlb2YgPSByZXF1aXJlKCIvb3B0L215YmxvZy92dWVwcmVzcy10aGVtZS1yZWNvLW1hc3Rlci96ZGJsb2cvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvdHlwZW9mIik7Cgp2YXIgdXJsID0gcmVxdWlyZSgidXJsIik7Cgp2YXIgaHR0cCA9IHJlcXVpcmUoImh0dHAiKTsKCnZhciBodHRwcyA9IHJlcXVpcmUoImh0dHBzIik7Cgp2YXIgYXNzZXJ0ID0gcmVxdWlyZSgiYXNzZXJ0Iik7Cgp2YXIgV3JpdGFibGUgPSByZXF1aXJlKCJzdHJlYW0iKS5Xcml0YWJsZTsKCnZhciBkZWJ1ZyA9IHJlcXVpcmUoImRlYnVnIikoImZvbGxvdy1yZWRpcmVjdHMiKTsgLy8gUkZDNzIzMcKnNC4yLjE6IE9mIHRoZSByZXF1ZXN0IG1ldGhvZHMgZGVmaW5lZCBieSB0aGlzIHNwZWNpZmljYXRpb24sCi8vIHRoZSBHRVQsIEhFQUQsIE9QVElPTlMsIGFuZCBUUkFDRSBtZXRob2RzIGFyZSBkZWZpbmVkIHRvIGJlIHNhZmUuCgoKdmFyIFNBRkVfTUVUSE9EUyA9IHsKICBHRVQ6IHRydWUsCiAgSEVBRDogdHJ1ZSwKICBPUFRJT05TOiB0cnVlLAogIFRSQUNFOiB0cnVlCn07IC8vIENyZWF0ZSBoYW5kbGVycyB0aGF0IHBhc3MgZXZlbnRzIGZyb20gbmF0aXZlIHJlcXVlc3RzCgp2YXIgZXZlbnRIYW5kbGVycyA9IE9iamVjdC5jcmVhdGUobnVsbCk7ClsiYWJvcnQiLCAiYWJvcnRlZCIsICJlcnJvciIsICJzb2NrZXQiLCAidGltZW91dCJdLmZvckVhY2goZnVuY3Rpb24gKGV2ZW50KSB7CiAgZXZlbnRIYW5kbGVyc1tldmVudF0gPSBmdW5jdGlvbiAoYXJnKSB7CiAgICB0aGlzLl9yZWRpcmVjdGFibGUuZW1pdChldmVudCwgYXJnKTsKICB9Owp9KTsgLy8gQW4gSFRUUChTKSByZXF1ZXN0IHRoYXQgY2FuIGJlIHJlZGlyZWN0ZWQKCmZ1bmN0aW9uIFJlZGlyZWN0YWJsZVJlcXVlc3Qob3B0aW9ucywgcmVzcG9uc2VDYWxsYmFjaykgewogIC8vIEluaXRpYWxpemUgdGhlIHJlcXVlc3QKICBXcml0YWJsZS5jYWxsKHRoaXMpOwogIG9wdGlvbnMuaGVhZGVycyA9IG9wdGlvbnMuaGVhZGVycyB8fCB7fTsKICB0aGlzLl9vcHRpb25zID0gb3B0aW9uczsKICB0aGlzLl9yZWRpcmVjdENvdW50ID0gMDsKICB0aGlzLl9yZWRpcmVjdHMgPSBbXTsKICB0aGlzLl9yZXF1ZXN0Qm9keUxlbmd0aCA9IDA7CiAgdGhpcy5fcmVxdWVzdEJvZHlCdWZmZXJzID0gW107IC8vIFNpbmNlIGh0dHAucmVxdWVzdCB0cmVhdHMgaG9zdCBhcyBhbiBhbGlhcyBvZiBob3N0bmFtZSwKICAvLyBidXQgdGhlIHVybCBtb2R1bGUgaW50ZXJwcmV0cyBob3N0IGFzIGhvc3RuYW1lIHBsdXMgcG9ydCwKICAvLyBlbGltaW5hdGUgdGhlIGhvc3QgcHJvcGVydHkgdG8gYXZvaWQgY29uZnVzaW9uLgoKICBpZiAob3B0aW9ucy5ob3N0KSB7CiAgICAvLyBVc2UgaG9zdG5hbWUgaWYgc2V0LCBiZWNhdXNlIGl0IGhhcyBwcmVjZWRlbmNlCiAgICBpZiAoIW9wdGlvbnMuaG9zdG5hbWUpIHsKICAgICAgb3B0aW9ucy5ob3N0bmFtZSA9IG9wdGlvbnMuaG9zdDsKICAgIH0KCiAgICBkZWxldGUgb3B0aW9ucy5ob3N0OwogIH0gLy8gQXR0YWNoIGEgY2FsbGJhY2sgaWYgcGFzc2VkCgoKICBpZiAocmVzcG9uc2VDYWxsYmFjaykgewogICAgdGhpcy5vbigicmVzcG9uc2UiLCByZXNwb25zZUNhbGxiYWNrKTsKICB9IC8vIFJlYWN0IHRvIHJlc3BvbnNlcyBvZiBuYXRpdmUgcmVxdWVzdHMKCgogIHZhciBzZWxmID0gdGhpczsKCiAgdGhpcy5fb25OYXRpdmVSZXNwb25zZSA9IGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgc2VsZi5fcHJvY2Vzc1Jlc3BvbnNlKHJlc3BvbnNlKTsKICB9OyAvLyBDb21wbGV0ZSB0aGUgVVJMIG9iamVjdCB3aGVuIG5lY2Vzc2FyeQoKCiAgaWYgKCFvcHRpb25zLnBhdGhuYW1lICYmIG9wdGlvbnMucGF0aCkgewogICAgdmFyIHNlYXJjaFBvcyA9IG9wdGlvbnMucGF0aC5pbmRleE9mKCI/Iik7CgogICAgaWYgKHNlYXJjaFBvcyA8IDApIHsKICAgICAgb3B0aW9ucy5wYXRobmFtZSA9IG9wdGlvbnMucGF0aDsKICAgIH0gZWxzZSB7CiAgICAgIG9wdGlvbnMucGF0aG5hbWUgPSBvcHRpb25zLnBhdGguc3Vic3RyaW5nKDAsIHNlYXJjaFBvcyk7CiAgICAgIG9wdGlvbnMuc2VhcmNoID0gb3B0aW9ucy5wYXRoLnN1YnN0cmluZyhzZWFyY2hQb3MpOwogICAgfQogIH0gLy8gUGVyZm9ybSB0aGUgZmlyc3QgcmVxdWVzdAoKCiAgdGhpcy5fcGVyZm9ybVJlcXVlc3QoKTsKfQoKUmVkaXJlY3RhYmxlUmVxdWVzdC5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKFdyaXRhYmxlLnByb3RvdHlwZSk7IC8vIFdyaXRlcyBidWZmZXJlZCBkYXRhIHRvIHRoZSBjdXJyZW50IG5hdGl2ZSByZXF1ZXN0CgpSZWRpcmVjdGFibGVSZXF1ZXN0LnByb3RvdHlwZS53cml0ZSA9IGZ1bmN0aW9uIChkYXRhLCBlbmNvZGluZywgY2FsbGJhY2spIHsKICAvLyBWYWxpZGF0ZSBpbnB1dCBhbmQgc2hpZnQgcGFyYW1ldGVycyBpZiBuZWNlc3NhcnkKICBpZiAoISh0eXBlb2YgZGF0YSA9PT0gInN0cmluZyIgfHwgX3R5cGVvZihkYXRhKSA9PT0gIm9iamVjdCIgJiYgImxlbmd0aCIgaW4gZGF0YSkpIHsKICAgIHRocm93IG5ldyBFcnJvcigiZGF0YSBzaG91bGQgYmUgYSBzdHJpbmcsIEJ1ZmZlciBvciBVaW50OEFycmF5Iik7CiAgfQoKICBpZiAodHlwZW9mIGVuY29kaW5nID09PSAiZnVuY3Rpb24iKSB7CiAgICBjYWxsYmFjayA9IGVuY29kaW5nOwogICAgZW5jb2RpbmcgPSBudWxsOwogIH0gLy8gSWdub3JlIGVtcHR5IGJ1ZmZlcnMsIHNpbmNlIHdyaXRpbmcgdGhlbSBkb2Vzbid0IGludm9rZSB0aGUgY2FsbGJhY2sKICAvLyBodHRwczovL2dpdGh1Yi5jb20vbm9kZWpzL25vZGUvaXNzdWVzLzIyMDY2CgoKICBpZiAoZGF0YS5sZW5ndGggPT09IDApIHsKICAgIGlmIChjYWxsYmFjaykgewogICAgICBjYWxsYmFjaygpOwogICAgfQoKICAgIHJldHVybjsKICB9IC8vIE9ubHkgd3JpdGUgd2hlbiB3ZSBkb24ndCBleGNlZWQgdGhlIG1heGltdW0gYm9keSBsZW5ndGgKCgogIGlmICh0aGlzLl9yZXF1ZXN0Qm9keUxlbmd0aCArIGRhdGEubGVuZ3RoIDw9IHRoaXMuX29wdGlvbnMubWF4Qm9keUxlbmd0aCkgewogICAgdGhpcy5fcmVxdWVzdEJvZHlMZW5ndGggKz0gZGF0YS5sZW5ndGg7CgogICAgdGhpcy5fcmVxdWVzdEJvZHlCdWZmZXJzLnB1c2goewogICAgICBkYXRhOiBkYXRhLAogICAgICBlbmNvZGluZzogZW5jb2RpbmcKICAgIH0pOwoKICAgIHRoaXMuX2N1cnJlbnRSZXF1ZXN0LndyaXRlKGRhdGEsIGVuY29kaW5nLCBjYWxsYmFjayk7CiAgfSAvLyBFcnJvciB3aGVuIHdlIGV4Y2VlZCB0aGUgbWF4aW11bSBib2R5IGxlbmd0aAogIGVsc2UgewogICAgICB0aGlzLmVtaXQoImVycm9yIiwgbmV3IEVycm9yKCJSZXF1ZXN0IGJvZHkgbGFyZ2VyIHRoYW4gbWF4Qm9keUxlbmd0aCBsaW1pdCIpKTsKICAgICAgdGhpcy5hYm9ydCgpOwogICAgfQp9OyAvLyBFbmRzIHRoZSBjdXJyZW50IG5hdGl2ZSByZXF1ZXN0CgoKUmVkaXJlY3RhYmxlUmVxdWVzdC5wcm90b3R5cGUuZW5kID0gZnVuY3Rpb24gKGRhdGEsIGVuY29kaW5nLCBjYWxsYmFjaykgewogIC8vIFNoaWZ0IHBhcmFtZXRlcnMgaWYgbmVjZXNzYXJ5CiAgaWYgKHR5cGVvZiBkYXRhID09PSAiZnVuY3Rpb24iKSB7CiAgICBjYWxsYmFjayA9IGRhdGE7CiAgICBkYXRhID0gZW5jb2RpbmcgPSBudWxsOwogIH0gZWxzZSBpZiAodHlwZW9mIGVuY29kaW5nID09PSAiZnVuY3Rpb24iKSB7CiAgICBjYWxsYmFjayA9IGVuY29kaW5nOwogICAgZW5jb2RpbmcgPSBudWxsOwogIH0gLy8gV3JpdGUgZGF0YSBhbmQgZW5kCgoKICB2YXIgY3VycmVudFJlcXVlc3QgPSB0aGlzLl9jdXJyZW50UmVxdWVzdDsKICB0aGlzLndyaXRlKGRhdGEgfHwgIiIsIGVuY29kaW5nLCBmdW5jdGlvbiAoKSB7CiAgICBjdXJyZW50UmVxdWVzdC5lbmQobnVsbCwgbnVsbCwgY2FsbGJhY2spOwogIH0pOwp9OyAvLyBTZXRzIGEgaGVhZGVyIHZhbHVlIG9uIHRoZSBjdXJyZW50IG5hdGl2ZSByZXF1ZXN0CgoKUmVkaXJlY3RhYmxlUmVxdWVzdC5wcm90b3R5cGUuc2V0SGVhZGVyID0gZnVuY3Rpb24gKG5hbWUsIHZhbHVlKSB7CiAgdGhpcy5fb3B0aW9ucy5oZWFkZXJzW25hbWVdID0gdmFsdWU7CgogIHRoaXMuX2N1cnJlbnRSZXF1ZXN0LnNldEhlYWRlcihuYW1lLCB2YWx1ZSk7Cn07IC8vIENsZWFycyBhIGhlYWRlciB2YWx1ZSBvbiB0aGUgY3VycmVudCBuYXRpdmUgcmVxdWVzdAoKClJlZGlyZWN0YWJsZVJlcXVlc3QucHJvdG90eXBlLnJlbW92ZUhlYWRlciA9IGZ1bmN0aW9uIChuYW1lKSB7CiAgZGVsZXRlIHRoaXMuX29wdGlvbnMuaGVhZGVyc1tuYW1lXTsKCiAgdGhpcy5fY3VycmVudFJlcXVlc3QucmVtb3ZlSGVhZGVyKG5hbWUpOwp9OyAvLyBQcm94eSBhbGwgb3RoZXIgcHVibGljIENsaWVudFJlcXVlc3QgbWV0aG9kcwoKClsiYWJvcnQiLCAiZmx1c2hIZWFkZXJzIiwgImdldEhlYWRlciIsICJzZXROb0RlbGF5IiwgInNldFNvY2tldEtlZXBBbGl2ZSIsICJzZXRUaW1lb3V0Il0uZm9yRWFjaChmdW5jdGlvbiAobWV0aG9kKSB7CiAgUmVkaXJlY3RhYmxlUmVxdWVzdC5wcm90b3R5cGVbbWV0aG9kXSA9IGZ1bmN0aW9uIChhLCBiKSB7CiAgICByZXR1cm4gdGhpcy5fY3VycmVudFJlcXVlc3RbbWV0aG9kXShhLCBiKTsKICB9Owp9KTsgLy8gUHJveHkgYWxsIHB1YmxpYyBDbGllbnRSZXF1ZXN0IHByb3BlcnRpZXMKClsiYWJvcnRlZCIsICJjb25uZWN0aW9uIiwgInNvY2tldCJdLmZvckVhY2goZnVuY3Rpb24gKHByb3BlcnR5KSB7CiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFJlZGlyZWN0YWJsZVJlcXVlc3QucHJvdG90eXBlLCBwcm9wZXJ0eSwgewogICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7CiAgICAgIHJldHVybiB0aGlzLl9jdXJyZW50UmVxdWVzdFtwcm9wZXJ0eV07CiAgICB9CiAgfSk7Cn0pOyAvLyBFeGVjdXRlcyB0aGUgbmV4dCBuYXRpdmUgcmVxdWVzdCAoaW5pdGlhbCBvciByZWRpcmVjdCkKClJlZGlyZWN0YWJsZVJlcXVlc3QucHJvdG90eXBlLl9wZXJmb3JtUmVxdWVzdCA9IGZ1bmN0aW9uICgpIHsKICAvLyBMb2FkIHRoZSBuYXRpdmUgcHJvdG9jb2wKICB2YXIgcHJvdG9jb2wgPSB0aGlzLl9vcHRpb25zLnByb3RvY29sOwogIHZhciBuYXRpdmVQcm90b2NvbCA9IHRoaXMuX29wdGlvbnMubmF0aXZlUHJvdG9jb2xzW3Byb3RvY29sXTsKCiAgaWYgKCFuYXRpdmVQcm90b2NvbCkgewogICAgdGhpcy5lbWl0KCJlcnJvciIsIG5ldyBFcnJvcigiVW5zdXBwb3J0ZWQgcHJvdG9jb2wgIiArIHByb3RvY29sKSk7CiAgICByZXR1cm47CiAgfSAvLyBJZiBzcGVjaWZpZWQsIHVzZSB0aGUgYWdlbnQgY29ycmVzcG9uZGluZyB0byB0aGUgcHJvdG9jb2wKICAvLyAoSFRUUCBhbmQgSFRUUFMgdXNlIGRpZmZlcmVudCB0eXBlcyBvZiBhZ2VudHMpCgoKICBpZiAodGhpcy5fb3B0aW9ucy5hZ2VudHMpIHsKICAgIHZhciBzY2hlbWUgPSBwcm90b2NvbC5zdWJzdHIoMCwgcHJvdG9jb2wubGVuZ3RoIC0gMSk7CiAgICB0aGlzLl9vcHRpb25zLmFnZW50ID0gdGhpcy5fb3B0aW9ucy5hZ2VudHNbc2NoZW1lXTsKICB9IC8vIENyZWF0ZSB0aGUgbmF0aXZlIHJlcXVlc3QKCgogIHZhciByZXF1ZXN0ID0gdGhpcy5fY3VycmVudFJlcXVlc3QgPSBuYXRpdmVQcm90b2NvbC5yZXF1ZXN0KHRoaXMuX29wdGlvbnMsIHRoaXMuX29uTmF0aXZlUmVzcG9uc2UpOwogIHRoaXMuX2N1cnJlbnRVcmwgPSB1cmwuZm9ybWF0KHRoaXMuX29wdGlvbnMpOyAvLyBTZXQgdXAgZXZlbnQgaGFuZGxlcnMKCiAgcmVxdWVzdC5fcmVkaXJlY3RhYmxlID0gdGhpczsKCiAgZm9yICh2YXIgZXZlbnQgaW4gZXZlbnRIYW5kbGVycykgewogICAgLyogaXN0YW5idWwgaWdub3JlIGVsc2UgKi8KICAgIGlmIChldmVudCkgewogICAgICByZXF1ZXN0Lm9uKGV2ZW50LCBldmVudEhhbmRsZXJzW2V2ZW50XSk7CiAgICB9CiAgfSAvLyBFbmQgYSByZWRpcmVjdGVkIHJlcXVlc3QKICAvLyAoVGhlIGZpcnN0IHJlcXVlc3QgbXVzdCBiZSBlbmRlZCBleHBsaWNpdGx5IHdpdGggUmVkaXJlY3RhYmxlUmVxdWVzdCNlbmQpCgoKICBpZiAodGhpcy5faXNSZWRpcmVjdCkgewogICAgLy8gV3JpdGUgdGhlIHJlcXVlc3QgZW50aXR5IGFuZCBlbmQuCiAgICB2YXIgaSA9IDA7CiAgICB2YXIgYnVmZmVycyA9IHRoaXMuX3JlcXVlc3RCb2R5QnVmZmVyczsKCiAgICAoZnVuY3Rpb24gd3JpdGVOZXh0KCkgewogICAgICBpZiAoaSA8IGJ1ZmZlcnMubGVuZ3RoKSB7CiAgICAgICAgdmFyIGJ1ZmZlciA9IGJ1ZmZlcnNbaSsrXTsKICAgICAgICByZXF1ZXN0LndyaXRlKGJ1ZmZlci5kYXRhLCBidWZmZXIuZW5jb2RpbmcsIHdyaXRlTmV4dCk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcmVxdWVzdC5lbmQoKTsKICAgICAgfQogICAgfSkoKTsKICB9Cn07IC8vIFByb2Nlc3NlcyBhIHJlc3BvbnNlIGZyb20gdGhlIGN1cnJlbnQgbmF0aXZlIHJlcXVlc3QKCgpSZWRpcmVjdGFibGVSZXF1ZXN0LnByb3RvdHlwZS5fcHJvY2Vzc1Jlc3BvbnNlID0gZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgLy8gU3RvcmUgdGhlIHJlZGlyZWN0ZWQgcmVzcG9uc2UKICBpZiAodGhpcy5fb3B0aW9ucy50cmFja1JlZGlyZWN0cykgewogICAgdGhpcy5fcmVkaXJlY3RzLnB1c2goewogICAgICB1cmw6IHRoaXMuX2N1cnJlbnRVcmwsCiAgICAgIGhlYWRlcnM6IHJlc3BvbnNlLmhlYWRlcnMsCiAgICAgIHN0YXR1c0NvZGU6IHJlc3BvbnNlLnN0YXR1c0NvZGUKICAgIH0pOwogIH0gLy8gUkZDNzIzMcKnNi40OiBUaGUgM3h4IChSZWRpcmVjdGlvbikgY2xhc3Mgb2Ygc3RhdHVzIGNvZGUgaW5kaWNhdGVzCiAgLy8gdGhhdCBmdXJ0aGVyIGFjdGlvbiBuZWVkcyB0byBiZSB0YWtlbiBieSB0aGUgdXNlciBhZ2VudCBpbiBvcmRlciB0bwogIC8vIGZ1bGZpbGwgdGhlIHJlcXVlc3QuIElmIGEgTG9jYXRpb24gaGVhZGVyIGZpZWxkIGlzIHByb3ZpZGVkLAogIC8vIHRoZSB1c2VyIGFnZW50IE1BWSBhdXRvbWF0aWNhbGx5IHJlZGlyZWN0IGl0cyByZXF1ZXN0IHRvIHRoZSBVUkkKICAvLyByZWZlcmVuY2VkIGJ5IHRoZSBMb2NhdGlvbiBmaWVsZCB2YWx1ZSwKICAvLyBldmVuIGlmIHRoZSBzcGVjaWZpYyBzdGF0dXMgY29kZSBpcyBub3QgdW5kZXJzdG9vZC4KCgogIHZhciBsb2NhdGlvbiA9IHJlc3BvbnNlLmhlYWRlcnMubG9jYXRpb247CgogIGlmIChsb2NhdGlvbiAmJiB0aGlzLl9vcHRpb25zLmZvbGxvd1JlZGlyZWN0cyAhPT0gZmFsc2UgJiYgcmVzcG9uc2Uuc3RhdHVzQ29kZSA+PSAzMDAgJiYgcmVzcG9uc2Uuc3RhdHVzQ29kZSA8IDQwMCkgewogICAgLy8gUkZDNzIzMcKnNi40OiBBIGNsaWVudCBTSE9VTEQgZGV0ZWN0IGFuZCBpbnRlcnZlbmUKICAgIC8vIGluIGN5Y2xpY2FsIHJlZGlyZWN0aW9ucyAoaS5lLiwgImluZmluaXRlIiByZWRpcmVjdGlvbiBsb29wcykuCiAgICBpZiAoKyt0aGlzLl9yZWRpcmVjdENvdW50ID4gdGhpcy5fb3B0aW9ucy5tYXhSZWRpcmVjdHMpIHsKICAgICAgdGhpcy5lbWl0KCJlcnJvciIsIG5ldyBFcnJvcigiTWF4IHJlZGlyZWN0cyBleGNlZWRlZC4iKSk7CiAgICAgIHJldHVybjsKICAgIH0gLy8gUkZDNzIzMcKnNi40OiBBdXRvbWF0aWMgcmVkaXJlY3Rpb24gbmVlZHMgdG8gZG9uZSB3aXRoCiAgICAvLyBjYXJlIGZvciBtZXRob2RzIG5vdCBrbm93biB0byBiZSBzYWZlIFvigKZdLAogICAgLy8gc2luY2UgdGhlIHVzZXIgbWlnaHQgbm90IHdpc2ggdG8gcmVkaXJlY3QgYW4gdW5zYWZlIHJlcXVlc3QuCiAgICAvLyBSRkM3MjMxwqc2LjQuNzogVGhlIDMwNyAoVGVtcG9yYXJ5IFJlZGlyZWN0KSBzdGF0dXMgY29kZSBpbmRpY2F0ZXMKICAgIC8vIHRoYXQgdGhlIHRhcmdldCByZXNvdXJjZSByZXNpZGVzIHRlbXBvcmFyaWx5IHVuZGVyIGEgZGlmZmVyZW50IFVSSQogICAgLy8gYW5kIHRoZSB1c2VyIGFnZW50IE1VU1QgTk9UIGNoYW5nZSB0aGUgcmVxdWVzdCBtZXRob2QKICAgIC8vIGlmIGl0IHBlcmZvcm1zIGFuIGF1dG9tYXRpYyByZWRpcmVjdGlvbiB0byB0aGF0IFVSSS4KCgogICAgdmFyIGhlYWRlcjsKICAgIHZhciBoZWFkZXJzID0gdGhpcy5fb3B0aW9ucy5oZWFkZXJzOwoKICAgIGlmIChyZXNwb25zZS5zdGF0dXNDb2RlICE9PSAzMDcgJiYgISh0aGlzLl9vcHRpb25zLm1ldGhvZCBpbiBTQUZFX01FVEhPRFMpKSB7CiAgICAgIHRoaXMuX29wdGlvbnMubWV0aG9kID0gIkdFVCI7IC8vIERyb3AgYSBwb3NzaWJsZSBlbnRpdHkgYW5kIGhlYWRlcnMgcmVsYXRlZCB0byBpdAoKICAgICAgdGhpcy5fcmVxdWVzdEJvZHlCdWZmZXJzID0gW107CgogICAgICBmb3IgKGhlYWRlciBpbiBoZWFkZXJzKSB7CiAgICAgICAgaWYgKC9eY29udGVudC0vaS50ZXN0KGhlYWRlcikpIHsKICAgICAgICAgIGRlbGV0ZSBoZWFkZXJzW2hlYWRlcl07CiAgICAgICAgfQogICAgICB9CiAgICB9IC8vIERyb3AgdGhlIEhvc3QgaGVhZGVyLCBhcyB0aGUgcmVkaXJlY3QgbWlnaHQgbGVhZCB0byBhIGRpZmZlcmVudCBob3N0CgoKICAgIGlmICghdGhpcy5faXNSZWRpcmVjdCkgewogICAgICBmb3IgKGhlYWRlciBpbiBoZWFkZXJzKSB7CiAgICAgICAgaWYgKC9eaG9zdCQvaS50ZXN0KGhlYWRlcikpIHsKICAgICAgICAgIGRlbGV0ZSBoZWFkZXJzW2hlYWRlcl07CiAgICAgICAgfQogICAgICB9CiAgICB9IC8vIFBlcmZvcm0gdGhlIHJlZGlyZWN0ZWQgcmVxdWVzdAoKCiAgICB2YXIgcmVkaXJlY3RVcmwgPSB1cmwucmVzb2x2ZSh0aGlzLl9jdXJyZW50VXJsLCBsb2NhdGlvbik7CiAgICBkZWJ1ZygicmVkaXJlY3RpbmcgdG8iLCByZWRpcmVjdFVybCk7CiAgICBPYmplY3QuYXNzaWduKHRoaXMuX29wdGlvbnMsIHVybC5wYXJzZShyZWRpcmVjdFVybCkpOwogICAgdGhpcy5faXNSZWRpcmVjdCA9IHRydWU7CgogICAgdGhpcy5fcGVyZm9ybVJlcXVlc3QoKTsgLy8gRGlzY2FyZCB0aGUgcmVtYWluZGVyIG9mIHRoZSByZXNwb25zZSB0byBhdm9pZCB3YWl0aW5nIGZvciBkYXRhCgoKICAgIHJlc3BvbnNlLmRlc3Ryb3koKTsKICB9IGVsc2UgewogICAgLy8gVGhlIHJlc3BvbnNlIGlzIG5vdCBhIHJlZGlyZWN0OyByZXR1cm4gaXQgYXMtaXMKICAgIHJlc3BvbnNlLnJlc3BvbnNlVXJsID0gdGhpcy5fY3VycmVudFVybDsKICAgIHJlc3BvbnNlLnJlZGlyZWN0cyA9IHRoaXMuX3JlZGlyZWN0czsKICAgIHRoaXMuZW1pdCgicmVzcG9uc2UiLCByZXNwb25zZSk7IC8vIENsZWFuIHVwCgogICAgdGhpcy5fcmVxdWVzdEJvZHlCdWZmZXJzID0gW107CiAgfQp9OyAvLyBXcmFwcyB0aGUga2V5L3ZhbHVlIG9iamVjdCBvZiBwcm90b2NvbHMgd2l0aCByZWRpcmVjdCBmdW5jdGlvbmFsaXR5CgoKZnVuY3Rpb24gd3JhcChwcm90b2NvbHMpIHsKICAvLyBEZWZhdWx0IHNldHRpbmdzCiAgdmFyIGV4cG9ydHMgPSB7CiAgICBtYXhSZWRpcmVjdHM6IDIxLAogICAgbWF4Qm9keUxlbmd0aDogMTAgKiAxMDI0ICogMTAyNAogIH07IC8vIFdyYXAgZWFjaCBwcm90b2NvbAoKICB2YXIgbmF0aXZlUHJvdG9jb2xzID0ge307CiAgT2JqZWN0LmtleXMocHJvdG9jb2xzKS5mb3JFYWNoKGZ1bmN0aW9uIChzY2hlbWUpIHsKICAgIHZhciBwcm90b2NvbCA9IHNjaGVtZSArICI6IjsKICAgIHZhciBuYXRpdmVQcm90b2NvbCA9IG5hdGl2ZVByb3RvY29sc1twcm90b2NvbF0gPSBwcm90b2NvbHNbc2NoZW1lXTsKICAgIHZhciB3cmFwcGVkUHJvdG9jb2wgPSBleHBvcnRzW3NjaGVtZV0gPSBPYmplY3QuY3JlYXRlKG5hdGl2ZVByb3RvY29sKTsgLy8gRXhlY3V0ZXMgYSByZXF1ZXN0LCBmb2xsb3dpbmcgcmVkaXJlY3RzCgogICAgd3JhcHBlZFByb3RvY29sLnJlcXVlc3QgPSBmdW5jdGlvbiAob3B0aW9ucywgY2FsbGJhY2spIHsKICAgICAgaWYgKHR5cGVvZiBvcHRpb25zID09PSAic3RyaW5nIikgewogICAgICAgIG9wdGlvbnMgPSB1cmwucGFyc2Uob3B0aW9ucyk7CiAgICAgICAgb3B0aW9ucy5tYXhSZWRpcmVjdHMgPSBleHBvcnRzLm1heFJlZGlyZWN0czsKICAgICAgfSBlbHNlIHsKICAgICAgICBvcHRpb25zID0gT2JqZWN0LmFzc2lnbih7CiAgICAgICAgICBwcm90b2NvbDogcHJvdG9jb2wsCiAgICAgICAgICBtYXhSZWRpcmVjdHM6IGV4cG9ydHMubWF4UmVkaXJlY3RzLAogICAgICAgICAgbWF4Qm9keUxlbmd0aDogZXhwb3J0cy5tYXhCb2R5TGVuZ3RoCiAgICAgICAgfSwgb3B0aW9ucyk7CiAgICAgIH0KCiAgICAgIG9wdGlvbnMubmF0aXZlUHJvdG9jb2xzID0gbmF0aXZlUHJvdG9jb2xzOwogICAgICBhc3NlcnQuZXF1YWwob3B0aW9ucy5wcm90b2NvbCwgcHJvdG9jb2wsICJwcm90b2NvbCBtaXNtYXRjaCIpOwogICAgICBkZWJ1Zygib3B0aW9ucyIsIG9wdGlvbnMpOwogICAgICByZXR1cm4gbmV3IFJlZGlyZWN0YWJsZVJlcXVlc3Qob3B0aW9ucywgY2FsbGJhY2spOwogICAgfTsgLy8gRXhlY3V0ZXMgYSBHRVQgcmVxdWVzdCwgZm9sbG93aW5nIHJlZGlyZWN0cwoKCiAgICB3cmFwcGVkUHJvdG9jb2wuZ2V0ID0gZnVuY3Rpb24gKG9wdGlvbnMsIGNhbGxiYWNrKSB7CiAgICAgIHZhciByZXF1ZXN0ID0gd3JhcHBlZFByb3RvY29sLnJlcXVlc3Qob3B0aW9ucywgY2FsbGJhY2spOwogICAgICByZXF1ZXN0LmVuZCgpOwogICAgICByZXR1cm4gcmVxdWVzdDsKICAgIH07CiAgfSk7CiAgcmV0dXJuIGV4cG9ydHM7Cn0gLy8gRXhwb3J0cwoKCm1vZHVsZS5leHBvcnRzID0gd3JhcCh7CiAgaHR0cDogaHR0cCwKICBodHRwczogaHR0cHMKfSk7Cm1vZHVsZS5leHBvcnRzLndyYXAgPSB3cmFwOw=="},{"version":3,"sources":["/opt/myblog/vuepress-theme-reco-master/zdblog/node_modules/follow-redirects/index.js"],"names":["url","require","http","https","assert","Writable","debug","SAFE_METHODS","GET","HEAD","OPTIONS","TRACE","eventHandlers","Object","create","forEach","event","arg","_redirectable","emit","RedirectableRequest","options","responseCallback","call","headers","_options","_redirectCount","_redirects","_requestBodyLength","_requestBodyBuffers","host","hostname","on","self","_onNativeResponse","response","_processResponse","pathname","path","searchPos","indexOf","substring","search","_performRequest","prototype","write","data","encoding","callback","Error","length","maxBodyLength","push","_currentRequest","abort","end","currentRequest","setHeader","name","value","removeHeader","method","a","b","property","defineProperty","get","protocol","nativeProtocol","nativeProtocols","agents","scheme","substr","agent","request","_currentUrl","format","_isRedirect","i","buffers","writeNext","buffer","trackRedirects","statusCode","location","followRedirects","maxRedirects","header","test","redirectUrl","resolve","assign","parse","destroy","responseUrl","redirects","wrap","protocols","exports","keys","wrappedProtocol","equal","module"],"mappings":"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","sourcesContent":["var url = require(\"url\");\nvar http = require(\"http\");\nvar https = require(\"https\");\nvar assert = require(\"assert\");\nvar Writable = require(\"stream\").Writable;\nvar debug = require(\"debug\")(\"follow-redirects\");\n\n// RFC7231§4.2.1: Of the request methods defined by this specification,\n// the GET, HEAD, OPTIONS, and TRACE methods are defined to be safe.\nvar SAFE_METHODS = { GET: true, HEAD: true, OPTIONS: true, TRACE: true };\n\n// Create handlers that pass events from native requests\nvar eventHandlers = Object.create(null);\n[\"abort\", \"aborted\", \"error\", \"socket\", \"timeout\"].forEach(function (event) {\n  eventHandlers[event] = function (arg) {\n    this._redirectable.emit(event, arg);\n  };\n});\n\n// An HTTP(S) request that can be redirected\nfunction RedirectableRequest(options, responseCallback) {\n  // Initialize the request\n  Writable.call(this);\n  options.headers = options.headers || {};\n  this._options = options;\n  this._redirectCount = 0;\n  this._redirects = [];\n  this._requestBodyLength = 0;\n  this._requestBodyBuffers = [];\n\n  // Since http.request treats host as an alias of hostname,\n  // but the url module interprets host as hostname plus port,\n  // eliminate the host property to avoid confusion.\n  if (options.host) {\n    // Use hostname if set, because it has precedence\n    if (!options.hostname) {\n      options.hostname = options.host;\n    }\n    delete options.host;\n  }\n\n  // Attach a callback if passed\n  if (responseCallback) {\n    this.on(\"response\", responseCallback);\n  }\n\n  // React to responses of native requests\n  var self = this;\n  this._onNativeResponse = function (response) {\n    self._processResponse(response);\n  };\n\n  // Complete the URL object when necessary\n  if (!options.pathname && options.path) {\n    var searchPos = options.path.indexOf(\"?\");\n    if (searchPos < 0) {\n      options.pathname = options.path;\n    }\n    else {\n      options.pathname = options.path.substring(0, searchPos);\n      options.search = options.path.substring(searchPos);\n    }\n  }\n\n  // Perform the first request\n  this._performRequest();\n}\nRedirectableRequest.prototype = Object.create(Writable.prototype);\n\n// Writes buffered data to the current native request\nRedirectableRequest.prototype.write = function (data, encoding, callback) {\n  // Validate input and shift parameters if necessary\n  if (!(typeof data === \"string\" || typeof data === \"object\" && (\"length\" in data))) {\n    throw new Error(\"data should be a string, Buffer or Uint8Array\");\n  }\n  if (typeof encoding === \"function\") {\n    callback = encoding;\n    encoding = null;\n  }\n\n  // Ignore empty buffers, since writing them doesn't invoke the callback\n  // https://github.com/nodejs/node/issues/22066\n  if (data.length === 0) {\n    if (callback) {\n      callback();\n    }\n    return;\n  }\n  // Only write when we don't exceed the maximum body length\n  if (this._requestBodyLength + data.length <= this._options.maxBodyLength) {\n    this._requestBodyLength += data.length;\n    this._requestBodyBuffers.push({ data: data, encoding: encoding });\n    this._currentRequest.write(data, encoding, callback);\n  }\n  // Error when we exceed the maximum body length\n  else {\n    this.emit(\"error\", new Error(\"Request body larger than maxBodyLength limit\"));\n    this.abort();\n  }\n};\n\n// Ends the current native request\nRedirectableRequest.prototype.end = function (data, encoding, callback) {\n  // Shift parameters if necessary\n  if (typeof data === \"function\") {\n    callback = data;\n    data = encoding = null;\n  }\n  else if (typeof encoding === \"function\") {\n    callback = encoding;\n    encoding = null;\n  }\n\n  // Write data and end\n  var currentRequest = this._currentRequest;\n  this.write(data || \"\", encoding, function () {\n    currentRequest.end(null, null, callback);\n  });\n};\n\n// Sets a header value on the current native request\nRedirectableRequest.prototype.setHeader = function (name, value) {\n  this._options.headers[name] = value;\n  this._currentRequest.setHeader(name, value);\n};\n\n// Clears a header value on the current native request\nRedirectableRequest.prototype.removeHeader = function (name) {\n  delete this._options.headers[name];\n  this._currentRequest.removeHeader(name);\n};\n\n// Proxy all other public ClientRequest methods\n[\n  \"abort\", \"flushHeaders\", \"getHeader\",\n  \"setNoDelay\", \"setSocketKeepAlive\", \"setTimeout\",\n].forEach(function (method) {\n  RedirectableRequest.prototype[method] = function (a, b) {\n    return this._currentRequest[method](a, b);\n  };\n});\n\n// Proxy all public ClientRequest properties\n[\"aborted\", \"connection\", \"socket\"].forEach(function (property) {\n  Object.defineProperty(RedirectableRequest.prototype, property, {\n    get: function () { return this._currentRequest[property]; },\n  });\n});\n\n// Executes the next native request (initial or redirect)\nRedirectableRequest.prototype._performRequest = function () {\n  // Load the native protocol\n  var protocol = this._options.protocol;\n  var nativeProtocol = this._options.nativeProtocols[protocol];\n  if (!nativeProtocol) {\n    this.emit(\"error\", new Error(\"Unsupported protocol \" + protocol));\n    return;\n  }\n\n  // If specified, use the agent corresponding to the protocol\n  // (HTTP and HTTPS use different types of agents)\n  if (this._options.agents) {\n    var scheme = protocol.substr(0, protocol.length - 1);\n    this._options.agent = this._options.agents[scheme];\n  }\n\n  // Create the native request\n  var request = this._currentRequest =\n        nativeProtocol.request(this._options, this._onNativeResponse);\n  this._currentUrl = url.format(this._options);\n\n  // Set up event handlers\n  request._redirectable = this;\n  for (var event in eventHandlers) {\n    /* istanbul ignore else */\n    if (event) {\n      request.on(event, eventHandlers[event]);\n    }\n  }\n\n  // End a redirected request\n  // (The first request must be ended explicitly with RedirectableRequest#end)\n  if (this._isRedirect) {\n    // Write the request entity and end.\n    var i = 0;\n    var buffers = this._requestBodyBuffers;\n    (function writeNext() {\n      if (i < buffers.length) {\n        var buffer = buffers[i++];\n        request.write(buffer.data, buffer.encoding, writeNext);\n      }\n      else {\n        request.end();\n      }\n    }());\n  }\n};\n\n// Processes a response from the current native request\nRedirectableRequest.prototype._processResponse = function (response) {\n  // Store the redirected response\n  if (this._options.trackRedirects) {\n    this._redirects.push({\n      url: this._currentUrl,\n      headers: response.headers,\n      statusCode: response.statusCode,\n    });\n  }\n\n  // RFC7231§6.4: The 3xx (Redirection) class of status code indicates\n  // that further action needs to be taken by the user agent in order to\n  // fulfill the request. If a Location header field is provided,\n  // the user agent MAY automatically redirect its request to the URI\n  // referenced by the Location field value,\n  // even if the specific status code is not understood.\n  var location = response.headers.location;\n  if (location && this._options.followRedirects !== false &&\n      response.statusCode >= 300 && response.statusCode < 400) {\n    // RFC7231§6.4: A client SHOULD detect and intervene\n    // in cyclical redirections (i.e., \"infinite\" redirection loops).\n    if (++this._redirectCount > this._options.maxRedirects) {\n      this.emit(\"error\", new Error(\"Max redirects exceeded.\"));\n      return;\n    }\n\n    // RFC7231§6.4: Automatic redirection needs to done with\n    // care for methods not known to be safe […],\n    // since the user might not wish to redirect an unsafe request.\n    // RFC7231§6.4.7: The 307 (Temporary Redirect) status code indicates\n    // that the target resource resides temporarily under a different URI\n    // and the user agent MUST NOT change the request method\n    // if it performs an automatic redirection to that URI.\n    var header;\n    var headers = this._options.headers;\n    if (response.statusCode !== 307 && !(this._options.method in SAFE_METHODS)) {\n      this._options.method = \"GET\";\n      // Drop a possible entity and headers related to it\n      this._requestBodyBuffers = [];\n      for (header in headers) {\n        if (/^content-/i.test(header)) {\n          delete headers[header];\n        }\n      }\n    }\n\n    // Drop the Host header, as the redirect might lead to a different host\n    if (!this._isRedirect) {\n      for (header in headers) {\n        if (/^host$/i.test(header)) {\n          delete headers[header];\n        }\n      }\n    }\n\n    // Perform the redirected request\n    var redirectUrl = url.resolve(this._currentUrl, location);\n    debug(\"redirecting to\", redirectUrl);\n    Object.assign(this._options, url.parse(redirectUrl));\n    this._isRedirect = true;\n    this._performRequest();\n\n    // Discard the remainder of the response to avoid waiting for data\n    response.destroy();\n  }\n  else {\n    // The response is not a redirect; return it as-is\n    response.responseUrl = this._currentUrl;\n    response.redirects = this._redirects;\n    this.emit(\"response\", response);\n\n    // Clean up\n    this._requestBodyBuffers = [];\n  }\n};\n\n// Wraps the key/value object of protocols with redirect functionality\nfunction wrap(protocols) {\n  // Default settings\n  var exports = {\n    maxRedirects: 21,\n    maxBodyLength: 10 * 1024 * 1024,\n  };\n\n  // Wrap each protocol\n  var nativeProtocols = {};\n  Object.keys(protocols).forEach(function (scheme) {\n    var protocol = scheme + \":\";\n    var nativeProtocol = nativeProtocols[protocol] = protocols[scheme];\n    var wrappedProtocol = exports[scheme] = Object.create(nativeProtocol);\n\n    // Executes a request, following redirects\n    wrappedProtocol.request = function (options, callback) {\n      if (typeof options === \"string\") {\n        options = url.parse(options);\n        options.maxRedirects = exports.maxRedirects;\n      }\n      else {\n        options = Object.assign({\n          protocol: protocol,\n          maxRedirects: exports.maxRedirects,\n          maxBodyLength: exports.maxBodyLength,\n        }, options);\n      }\n      options.nativeProtocols = nativeProtocols;\n      assert.equal(options.protocol, protocol, \"protocol mismatch\");\n      debug(\"options\", options);\n      return new RedirectableRequest(options, callback);\n    };\n\n    // Executes a GET request, following redirects\n    wrappedProtocol.get = function (options, callback) {\n      var request = wrappedProtocol.request(options, callback);\n      request.end();\n      return request;\n    };\n  });\n  return exports;\n}\n\n// Exports\nmodule.exports = wrap({ http: http, https: https });\nmodule.exports.wrap = wrap;\n"]}]}