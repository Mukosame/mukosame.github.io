{"remainingRequest":"/opt/myblog/vuepress-theme-reco-master/zdblog/node_modules/babel-loader/lib/index.js??ref--3-1!/opt/myblog/vuepress-theme-reco-master/zdblog/node_modules/core-js/modules/web.url-search-params.js","dependencies":[{"path":"/opt/myblog/vuepress-theme-reco-master/zdblog/node_modules/core-js/modules/web.url-search-params.js","mtime":1603041181476},{"path":"/opt/myblog/vuepress-theme-reco-master/zdblog/node_modules/cache-loader/dist/cjs.js","mtime":1603041438982},{"path":"/opt/myblog/vuepress-theme-reco-master/zdblog/node_modules/babel-loader/lib/index.js","mtime":1603041438713}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:J3VzZSBzdHJpY3QnOyAvLyBUT0RPOiBpbiBjb3JlLWpzQDQsIG1vdmUgL21vZHVsZXMvIGRlcGVuZGVuY2llcyB0byBwdWJsaWMgZW50cmllcyBmb3IgYmV0dGVyIG9wdGltaXphdGlvbiBieSB0b29scyBsaWtlIGBwcmVzZXQtZW52YAoKcmVxdWlyZSgnLi4vbW9kdWxlcy9lcy5hcnJheS5pdGVyYXRvcicpOwoKdmFyICQgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZXhwb3J0Jyk7Cgp2YXIgZ2V0QnVpbHRJbiA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9nZXQtYnVpbHQtaW4nKTsKCnZhciBVU0VfTkFUSVZFX1VSTCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9uYXRpdmUtdXJsJyk7Cgp2YXIgcmVkZWZpbmUgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvcmVkZWZpbmUnKTsKCnZhciByZWRlZmluZUFsbCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9yZWRlZmluZS1hbGwnKTsKCnZhciBzZXRUb1N0cmluZ1RhZyA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9zZXQtdG8tc3RyaW5nLXRhZycpOwoKdmFyIGNyZWF0ZUl0ZXJhdG9yQ29uc3RydWN0b3IgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvY3JlYXRlLWl0ZXJhdG9yLWNvbnN0cnVjdG9yJyk7Cgp2YXIgSW50ZXJuYWxTdGF0ZU1vZHVsZSA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9pbnRlcm5hbC1zdGF0ZScpOwoKdmFyIGFuSW5zdGFuY2UgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvYW4taW5zdGFuY2UnKTsKCnZhciBoYXNPd24gPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvaGFzJyk7Cgp2YXIgYmluZCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9mdW5jdGlvbi1iaW5kLWNvbnRleHQnKTsKCnZhciBjbGFzc29mID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2NsYXNzb2YnKTsKCnZhciBhbk9iamVjdCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9hbi1vYmplY3QnKTsKCnZhciBpc09iamVjdCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9pcy1vYmplY3QnKTsKCnZhciBjcmVhdGUgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvb2JqZWN0LWNyZWF0ZScpOwoKdmFyIGNyZWF0ZVByb3BlcnR5RGVzY3JpcHRvciA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9jcmVhdGUtcHJvcGVydHktZGVzY3JpcHRvcicpOwoKdmFyIGdldEl0ZXJhdG9yID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2dldC1pdGVyYXRvcicpOwoKdmFyIGdldEl0ZXJhdG9yTWV0aG9kID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2dldC1pdGVyYXRvci1tZXRob2QnKTsKCnZhciB3ZWxsS25vd25TeW1ib2wgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvd2VsbC1rbm93bi1zeW1ib2wnKTsKCnZhciAkZmV0Y2ggPSBnZXRCdWlsdEluKCdmZXRjaCcpOwp2YXIgSGVhZGVycyA9IGdldEJ1aWx0SW4oJ0hlYWRlcnMnKTsKdmFyIElURVJBVE9SID0gd2VsbEtub3duU3ltYm9sKCdpdGVyYXRvcicpOwp2YXIgVVJMX1NFQVJDSF9QQVJBTVMgPSAnVVJMU2VhcmNoUGFyYW1zJzsKdmFyIFVSTF9TRUFSQ0hfUEFSQU1TX0lURVJBVE9SID0gVVJMX1NFQVJDSF9QQVJBTVMgKyAnSXRlcmF0b3InOwp2YXIgc2V0SW50ZXJuYWxTdGF0ZSA9IEludGVybmFsU3RhdGVNb2R1bGUuc2V0Owp2YXIgZ2V0SW50ZXJuYWxQYXJhbXNTdGF0ZSA9IEludGVybmFsU3RhdGVNb2R1bGUuZ2V0dGVyRm9yKFVSTF9TRUFSQ0hfUEFSQU1TKTsKdmFyIGdldEludGVybmFsSXRlcmF0b3JTdGF0ZSA9IEludGVybmFsU3RhdGVNb2R1bGUuZ2V0dGVyRm9yKFVSTF9TRUFSQ0hfUEFSQU1TX0lURVJBVE9SKTsKdmFyIHBsdXMgPSAvXCsvZzsKdmFyIHNlcXVlbmNlcyA9IEFycmF5KDQpOwoKdmFyIHBlcmNlbnRTZXF1ZW5jZSA9IGZ1bmN0aW9uIChieXRlcykgewogIHJldHVybiBzZXF1ZW5jZXNbYnl0ZXMgLSAxXSB8fCAoc2VxdWVuY2VzW2J5dGVzIC0gMV0gPSBSZWdFeHAoJygoPzolW1xcZGEtZl17Mn0peycgKyBieXRlcyArICd9KScsICdnaScpKTsKfTsKCnZhciBwZXJjZW50RGVjb2RlID0gZnVuY3Rpb24gKHNlcXVlbmNlKSB7CiAgdHJ5IHsKICAgIHJldHVybiBkZWNvZGVVUklDb21wb25lbnQoc2VxdWVuY2UpOwogIH0gY2F0Y2ggKGVycm9yKSB7CiAgICByZXR1cm4gc2VxdWVuY2U7CiAgfQp9OwoKdmFyIGRlc2VyaWFsaXplID0gZnVuY3Rpb24gKGl0KSB7CiAgdmFyIHJlc3VsdCA9IGl0LnJlcGxhY2UocGx1cywgJyAnKTsKICB2YXIgYnl0ZXMgPSA0OwoKICB0cnkgewogICAgcmV0dXJuIGRlY29kZVVSSUNvbXBvbmVudChyZXN1bHQpOwogIH0gY2F0Y2ggKGVycm9yKSB7CiAgICB3aGlsZSAoYnl0ZXMpIHsKICAgICAgcmVzdWx0ID0gcmVzdWx0LnJlcGxhY2UocGVyY2VudFNlcXVlbmNlKGJ5dGVzLS0pLCBwZXJjZW50RGVjb2RlKTsKICAgIH0KCiAgICByZXR1cm4gcmVzdWx0OwogIH0KfTsKCnZhciBmaW5kID0gL1shJygpfl18JTIwL2c7CnZhciByZXBsYWNlID0gewogICchJzogJyUyMScsCiAgIiciOiAnJTI3JywKICAnKCc6ICclMjgnLAogICcpJzogJyUyOScsCiAgJ34nOiAnJTdFJywKICAnJTIwJzogJysnCn07Cgp2YXIgcmVwbGFjZXIgPSBmdW5jdGlvbiAobWF0Y2gpIHsKICByZXR1cm4gcmVwbGFjZVttYXRjaF07Cn07Cgp2YXIgc2VyaWFsaXplID0gZnVuY3Rpb24gKGl0KSB7CiAgcmV0dXJuIGVuY29kZVVSSUNvbXBvbmVudChpdCkucmVwbGFjZShmaW5kLCByZXBsYWNlcik7Cn07Cgp2YXIgcGFyc2VTZWFyY2hQYXJhbXMgPSBmdW5jdGlvbiAocmVzdWx0LCBxdWVyeSkgewogIGlmIChxdWVyeSkgewogICAgdmFyIGF0dHJpYnV0ZXMgPSBxdWVyeS5zcGxpdCgnJicpOwogICAgdmFyIGluZGV4ID0gMDsKICAgIHZhciBhdHRyaWJ1dGUsIGVudHJ5OwoKICAgIHdoaWxlIChpbmRleCA8IGF0dHJpYnV0ZXMubGVuZ3RoKSB7CiAgICAgIGF0dHJpYnV0ZSA9IGF0dHJpYnV0ZXNbaW5kZXgrK107CgogICAgICBpZiAoYXR0cmlidXRlLmxlbmd0aCkgewogICAgICAgIGVudHJ5ID0gYXR0cmlidXRlLnNwbGl0KCc9Jyk7CiAgICAgICAgcmVzdWx0LnB1c2goewogICAgICAgICAga2V5OiBkZXNlcmlhbGl6ZShlbnRyeS5zaGlmdCgpKSwKICAgICAgICAgIHZhbHVlOiBkZXNlcmlhbGl6ZShlbnRyeS5qb2luKCc9JykpCiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0KICB9Cn07Cgp2YXIgdXBkYXRlU2VhcmNoUGFyYW1zID0gZnVuY3Rpb24gKHF1ZXJ5KSB7CiAgdGhpcy5lbnRyaWVzLmxlbmd0aCA9IDA7CiAgcGFyc2VTZWFyY2hQYXJhbXModGhpcy5lbnRyaWVzLCBxdWVyeSk7Cn07Cgp2YXIgdmFsaWRhdGVBcmd1bWVudHNMZW5ndGggPSBmdW5jdGlvbiAocGFzc2VkLCByZXF1aXJlZCkgewogIGlmIChwYXNzZWQgPCByZXF1aXJlZCkgdGhyb3cgVHlwZUVycm9yKCdOb3QgZW5vdWdoIGFyZ3VtZW50cycpOwp9OwoKdmFyIFVSTFNlYXJjaFBhcmFtc0l0ZXJhdG9yID0gY3JlYXRlSXRlcmF0b3JDb25zdHJ1Y3RvcihmdW5jdGlvbiBJdGVyYXRvcihwYXJhbXMsIGtpbmQpIHsKICBzZXRJbnRlcm5hbFN0YXRlKHRoaXMsIHsKICAgIHR5cGU6IFVSTF9TRUFSQ0hfUEFSQU1TX0lURVJBVE9SLAogICAgaXRlcmF0b3I6IGdldEl0ZXJhdG9yKGdldEludGVybmFsUGFyYW1zU3RhdGUocGFyYW1zKS5lbnRyaWVzKSwKICAgIGtpbmQ6IGtpbmQKICB9KTsKfSwgJ0l0ZXJhdG9yJywgZnVuY3Rpb24gbmV4dCgpIHsKICB2YXIgc3RhdGUgPSBnZXRJbnRlcm5hbEl0ZXJhdG9yU3RhdGUodGhpcyk7CiAgdmFyIGtpbmQgPSBzdGF0ZS5raW5kOwogIHZhciBzdGVwID0gc3RhdGUuaXRlcmF0b3IubmV4dCgpOwogIHZhciBlbnRyeSA9IHN0ZXAudmFsdWU7CgogIGlmICghc3RlcC5kb25lKSB7CiAgICBzdGVwLnZhbHVlID0ga2luZCA9PT0gJ2tleXMnID8gZW50cnkua2V5IDoga2luZCA9PT0gJ3ZhbHVlcycgPyBlbnRyeS52YWx1ZSA6IFtlbnRyeS5rZXksIGVudHJ5LnZhbHVlXTsKICB9CgogIHJldHVybiBzdGVwOwp9KTsgLy8gYFVSTFNlYXJjaFBhcmFtc2AgY29uc3RydWN0b3IKLy8gaHR0cHM6Ly91cmwuc3BlYy53aGF0d2cub3JnLyNpbnRlcmZhY2UtdXJsc2VhcmNocGFyYW1zCgp2YXIgVVJMU2VhcmNoUGFyYW1zQ29uc3RydWN0b3IgPSBmdW5jdGlvbiBVUkxTZWFyY2hQYXJhbXMoKQovKiBpbml0ICovCnsKICBhbkluc3RhbmNlKHRoaXMsIFVSTFNlYXJjaFBhcmFtc0NvbnN0cnVjdG9yLCBVUkxfU0VBUkNIX1BBUkFNUyk7CiAgdmFyIGluaXQgPSBhcmd1bWVudHMubGVuZ3RoID4gMCA/IGFyZ3VtZW50c1swXSA6IHVuZGVmaW5lZDsKICB2YXIgdGhhdCA9IHRoaXM7CiAgdmFyIGVudHJpZXMgPSBbXTsKICB2YXIgaXRlcmF0b3JNZXRob2QsIGl0ZXJhdG9yLCBuZXh0LCBzdGVwLCBlbnRyeUl0ZXJhdG9yLCBlbnRyeU5leHQsIGZpcnN0LCBzZWNvbmQsIGtleTsKICBzZXRJbnRlcm5hbFN0YXRlKHRoYXQsIHsKICAgIHR5cGU6IFVSTF9TRUFSQ0hfUEFSQU1TLAogICAgZW50cmllczogZW50cmllcywKICAgIHVwZGF0ZVVSTDogZnVuY3Rpb24gKCkgewogICAgICAvKiBlbXB0eSAqLwogICAgfSwKICAgIHVwZGF0ZVNlYXJjaFBhcmFtczogdXBkYXRlU2VhcmNoUGFyYW1zCiAgfSk7CgogIGlmIChpbml0ICE9PSB1bmRlZmluZWQpIHsKICAgIGlmIChpc09iamVjdChpbml0KSkgewogICAgICBpdGVyYXRvck1ldGhvZCA9IGdldEl0ZXJhdG9yTWV0aG9kKGluaXQpOwoKICAgICAgaWYgKHR5cGVvZiBpdGVyYXRvck1ldGhvZCA9PT0gJ2Z1bmN0aW9uJykgewogICAgICAgIGl0ZXJhdG9yID0gaXRlcmF0b3JNZXRob2QuY2FsbChpbml0KTsKICAgICAgICBuZXh0ID0gaXRlcmF0b3IubmV4dDsKCiAgICAgICAgd2hpbGUgKCEoc3RlcCA9IG5leHQuY2FsbChpdGVyYXRvcikpLmRvbmUpIHsKICAgICAgICAgIGVudHJ5SXRlcmF0b3IgPSBnZXRJdGVyYXRvcihhbk9iamVjdChzdGVwLnZhbHVlKSk7CiAgICAgICAgICBlbnRyeU5leHQgPSBlbnRyeUl0ZXJhdG9yLm5leHQ7CiAgICAgICAgICBpZiAoKGZpcnN0ID0gZW50cnlOZXh0LmNhbGwoZW50cnlJdGVyYXRvcikpLmRvbmUgfHwgKHNlY29uZCA9IGVudHJ5TmV4dC5jYWxsKGVudHJ5SXRlcmF0b3IpKS5kb25lIHx8ICFlbnRyeU5leHQuY2FsbChlbnRyeUl0ZXJhdG9yKS5kb25lKSB0aHJvdyBUeXBlRXJyb3IoJ0V4cGVjdGVkIHNlcXVlbmNlIHdpdGggbGVuZ3RoIDInKTsKICAgICAgICAgIGVudHJpZXMucHVzaCh7CiAgICAgICAgICAgIGtleTogZmlyc3QudmFsdWUgKyAnJywKICAgICAgICAgICAgdmFsdWU6IHNlY29uZC52YWx1ZSArICcnCiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH0gZWxzZSBmb3IgKGtleSBpbiBpbml0KSBpZiAoaGFzT3duKGluaXQsIGtleSkpIGVudHJpZXMucHVzaCh7CiAgICAgICAga2V5OiBrZXksCiAgICAgICAgdmFsdWU6IGluaXRba2V5XSArICcnCiAgICAgIH0pOwogICAgfSBlbHNlIHsKICAgICAgcGFyc2VTZWFyY2hQYXJhbXMoZW50cmllcywgdHlwZW9mIGluaXQgPT09ICdzdHJpbmcnID8gaW5pdC5jaGFyQXQoMCkgPT09ICc/JyA/IGluaXQuc2xpY2UoMSkgOiBpbml0IDogaW5pdCArICcnKTsKICAgIH0KICB9Cn07Cgp2YXIgVVJMU2VhcmNoUGFyYW1zUHJvdG90eXBlID0gVVJMU2VhcmNoUGFyYW1zQ29uc3RydWN0b3IucHJvdG90eXBlOwpyZWRlZmluZUFsbChVUkxTZWFyY2hQYXJhbXNQcm90b3R5cGUsIHsKICAvLyBgVVJMU2VhcmNoUGFyYW1zLnByb3RvdHlwZS5hcHBlbnRgIG1ldGhvZAogIC8vIGh0dHBzOi8vdXJsLnNwZWMud2hhdHdnLm9yZy8jZG9tLXVybHNlYXJjaHBhcmFtcy1hcHBlbmQKICBhcHBlbmQ6IGZ1bmN0aW9uIGFwcGVuZChuYW1lLCB2YWx1ZSkgewogICAgdmFsaWRhdGVBcmd1bWVudHNMZW5ndGgoYXJndW1lbnRzLmxlbmd0aCwgMik7CiAgICB2YXIgc3RhdGUgPSBnZXRJbnRlcm5hbFBhcmFtc1N0YXRlKHRoaXMpOwogICAgc3RhdGUuZW50cmllcy5wdXNoKHsKICAgICAga2V5OiBuYW1lICsgJycsCiAgICAgIHZhbHVlOiB2YWx1ZSArICcnCiAgICB9KTsKICAgIHN0YXRlLnVwZGF0ZVVSTCgpOwogIH0sCiAgLy8gYFVSTFNlYXJjaFBhcmFtcy5wcm90b3R5cGUuZGVsZXRlYCBtZXRob2QKICAvLyBodHRwczovL3VybC5zcGVjLndoYXR3Zy5vcmcvI2RvbS11cmxzZWFyY2hwYXJhbXMtZGVsZXRlCiAgJ2RlbGV0ZSc6IGZ1bmN0aW9uIChuYW1lKSB7CiAgICB2YWxpZGF0ZUFyZ3VtZW50c0xlbmd0aChhcmd1bWVudHMubGVuZ3RoLCAxKTsKICAgIHZhciBzdGF0ZSA9IGdldEludGVybmFsUGFyYW1zU3RhdGUodGhpcyk7CiAgICB2YXIgZW50cmllcyA9IHN0YXRlLmVudHJpZXM7CiAgICB2YXIga2V5ID0gbmFtZSArICcnOwogICAgdmFyIGluZGV4ID0gMDsKCiAgICB3aGlsZSAoaW5kZXggPCBlbnRyaWVzLmxlbmd0aCkgewogICAgICBpZiAoZW50cmllc1tpbmRleF0ua2V5ID09PSBrZXkpIGVudHJpZXMuc3BsaWNlKGluZGV4LCAxKTtlbHNlIGluZGV4Kys7CiAgICB9CgogICAgc3RhdGUudXBkYXRlVVJMKCk7CiAgfSwKICAvLyBgVVJMU2VhcmNoUGFyYW1zLnByb3RvdHlwZS5nZXRgIG1ldGhvZAogIC8vIGh0dHBzOi8vdXJsLnNwZWMud2hhdHdnLm9yZy8jZG9tLXVybHNlYXJjaHBhcmFtcy1nZXQKICBnZXQ6IGZ1bmN0aW9uIGdldChuYW1lKSB7CiAgICB2YWxpZGF0ZUFyZ3VtZW50c0xlbmd0aChhcmd1bWVudHMubGVuZ3RoLCAxKTsKICAgIHZhciBlbnRyaWVzID0gZ2V0SW50ZXJuYWxQYXJhbXNTdGF0ZSh0aGlzKS5lbnRyaWVzOwogICAgdmFyIGtleSA9IG5hbWUgKyAnJzsKICAgIHZhciBpbmRleCA9IDA7CgogICAgZm9yICg7IGluZGV4IDwgZW50cmllcy5sZW5ndGg7IGluZGV4KyspIHsKICAgICAgaWYgKGVudHJpZXNbaW5kZXhdLmtleSA9PT0ga2V5KSByZXR1cm4gZW50cmllc1tpbmRleF0udmFsdWU7CiAgICB9CgogICAgcmV0dXJuIG51bGw7CiAgfSwKICAvLyBgVVJMU2VhcmNoUGFyYW1zLnByb3RvdHlwZS5nZXRBbGxgIG1ldGhvZAogIC8vIGh0dHBzOi8vdXJsLnNwZWMud2hhdHdnLm9yZy8jZG9tLXVybHNlYXJjaHBhcmFtcy1nZXRhbGwKICBnZXRBbGw6IGZ1bmN0aW9uIGdldEFsbChuYW1lKSB7CiAgICB2YWxpZGF0ZUFyZ3VtZW50c0xlbmd0aChhcmd1bWVudHMubGVuZ3RoLCAxKTsKICAgIHZhciBlbnRyaWVzID0gZ2V0SW50ZXJuYWxQYXJhbXNTdGF0ZSh0aGlzKS5lbnRyaWVzOwogICAgdmFyIGtleSA9IG5hbWUgKyAnJzsKICAgIHZhciByZXN1bHQgPSBbXTsKICAgIHZhciBpbmRleCA9IDA7CgogICAgZm9yICg7IGluZGV4IDwgZW50cmllcy5sZW5ndGg7IGluZGV4KyspIHsKICAgICAgaWYgKGVudHJpZXNbaW5kZXhdLmtleSA9PT0ga2V5KSByZXN1bHQucHVzaChlbnRyaWVzW2luZGV4XS52YWx1ZSk7CiAgICB9CgogICAgcmV0dXJuIHJlc3VsdDsKICB9LAogIC8vIGBVUkxTZWFyY2hQYXJhbXMucHJvdG90eXBlLmhhc2AgbWV0aG9kCiAgLy8gaHR0cHM6Ly91cmwuc3BlYy53aGF0d2cub3JnLyNkb20tdXJsc2VhcmNocGFyYW1zLWhhcwogIGhhczogZnVuY3Rpb24gaGFzKG5hbWUpIHsKICAgIHZhbGlkYXRlQXJndW1lbnRzTGVuZ3RoKGFyZ3VtZW50cy5sZW5ndGgsIDEpOwogICAgdmFyIGVudHJpZXMgPSBnZXRJbnRlcm5hbFBhcmFtc1N0YXRlKHRoaXMpLmVudHJpZXM7CiAgICB2YXIga2V5ID0gbmFtZSArICcnOwogICAgdmFyIGluZGV4ID0gMDsKCiAgICB3aGlsZSAoaW5kZXggPCBlbnRyaWVzLmxlbmd0aCkgewogICAgICBpZiAoZW50cmllc1tpbmRleCsrXS5rZXkgPT09IGtleSkgcmV0dXJuIHRydWU7CiAgICB9CgogICAgcmV0dXJuIGZhbHNlOwogIH0sCiAgLy8gYFVSTFNlYXJjaFBhcmFtcy5wcm90b3R5cGUuc2V0YCBtZXRob2QKICAvLyBodHRwczovL3VybC5zcGVjLndoYXR3Zy5vcmcvI2RvbS11cmxzZWFyY2hwYXJhbXMtc2V0CiAgc2V0OiBmdW5jdGlvbiBzZXQobmFtZSwgdmFsdWUpIHsKICAgIHZhbGlkYXRlQXJndW1lbnRzTGVuZ3RoKGFyZ3VtZW50cy5sZW5ndGgsIDEpOwogICAgdmFyIHN0YXRlID0gZ2V0SW50ZXJuYWxQYXJhbXNTdGF0ZSh0aGlzKTsKICAgIHZhciBlbnRyaWVzID0gc3RhdGUuZW50cmllczsKICAgIHZhciBmb3VuZCA9IGZhbHNlOwogICAgdmFyIGtleSA9IG5hbWUgKyAnJzsKICAgIHZhciB2YWwgPSB2YWx1ZSArICcnOwogICAgdmFyIGluZGV4ID0gMDsKICAgIHZhciBlbnRyeTsKCiAgICBmb3IgKDsgaW5kZXggPCBlbnRyaWVzLmxlbmd0aDsgaW5kZXgrKykgewogICAgICBlbnRyeSA9IGVudHJpZXNbaW5kZXhdOwoKICAgICAgaWYgKGVudHJ5LmtleSA9PT0ga2V5KSB7CiAgICAgICAgaWYgKGZvdW5kKSBlbnRyaWVzLnNwbGljZShpbmRleC0tLCAxKTtlbHNlIHsKICAgICAgICAgIGZvdW5kID0gdHJ1ZTsKICAgICAgICAgIGVudHJ5LnZhbHVlID0gdmFsOwogICAgICAgIH0KICAgICAgfQogICAgfQoKICAgIGlmICghZm91bmQpIGVudHJpZXMucHVzaCh7CiAgICAgIGtleToga2V5LAogICAgICB2YWx1ZTogdmFsCiAgICB9KTsKICAgIHN0YXRlLnVwZGF0ZVVSTCgpOwogIH0sCiAgLy8gYFVSTFNlYXJjaFBhcmFtcy5wcm90b3R5cGUuc29ydGAgbWV0aG9kCiAgLy8gaHR0cHM6Ly91cmwuc3BlYy53aGF0d2cub3JnLyNkb20tdXJsc2VhcmNocGFyYW1zLXNvcnQKICBzb3J0OiBmdW5jdGlvbiBzb3J0KCkgewogICAgdmFyIHN0YXRlID0gZ2V0SW50ZXJuYWxQYXJhbXNTdGF0ZSh0aGlzKTsKICAgIHZhciBlbnRyaWVzID0gc3RhdGUuZW50cmllczsgLy8gQXJyYXkjc29ydCBpcyBub3Qgc3RhYmxlIGluIHNvbWUgZW5naW5lcwoKICAgIHZhciBzbGljZSA9IGVudHJpZXMuc2xpY2UoKTsKICAgIHZhciBlbnRyeSwgZW50cmllc0luZGV4LCBzbGljZUluZGV4OwogICAgZW50cmllcy5sZW5ndGggPSAwOwoKICAgIGZvciAoc2xpY2VJbmRleCA9IDA7IHNsaWNlSW5kZXggPCBzbGljZS5sZW5ndGg7IHNsaWNlSW5kZXgrKykgewogICAgICBlbnRyeSA9IHNsaWNlW3NsaWNlSW5kZXhdOwoKICAgICAgZm9yIChlbnRyaWVzSW5kZXggPSAwOyBlbnRyaWVzSW5kZXggPCBzbGljZUluZGV4OyBlbnRyaWVzSW5kZXgrKykgewogICAgICAgIGlmIChlbnRyaWVzW2VudHJpZXNJbmRleF0ua2V5ID4gZW50cnkua2V5KSB7CiAgICAgICAgICBlbnRyaWVzLnNwbGljZShlbnRyaWVzSW5kZXgsIDAsIGVudHJ5KTsKICAgICAgICAgIGJyZWFrOwogICAgICAgIH0KICAgICAgfQoKICAgICAgaWYgKGVudHJpZXNJbmRleCA9PT0gc2xpY2VJbmRleCkgZW50cmllcy5wdXNoKGVudHJ5KTsKICAgIH0KCiAgICBzdGF0ZS51cGRhdGVVUkwoKTsKICB9LAogIC8vIGBVUkxTZWFyY2hQYXJhbXMucHJvdG90eXBlLmZvckVhY2hgIG1ldGhvZAogIGZvckVhY2g6IGZ1bmN0aW9uIGZvckVhY2goY2FsbGJhY2sKICAvKiAsIHRoaXNBcmcgKi8KICApIHsKICAgIHZhciBlbnRyaWVzID0gZ2V0SW50ZXJuYWxQYXJhbXNTdGF0ZSh0aGlzKS5lbnRyaWVzOwogICAgdmFyIGJvdW5kRnVuY3Rpb24gPSBiaW5kKGNhbGxiYWNrLCBhcmd1bWVudHMubGVuZ3RoID4gMSA/IGFyZ3VtZW50c1sxXSA6IHVuZGVmaW5lZCwgMyk7CiAgICB2YXIgaW5kZXggPSAwOwogICAgdmFyIGVudHJ5OwoKICAgIHdoaWxlIChpbmRleCA8IGVudHJpZXMubGVuZ3RoKSB7CiAgICAgIGVudHJ5ID0gZW50cmllc1tpbmRleCsrXTsKICAgICAgYm91bmRGdW5jdGlvbihlbnRyeS52YWx1ZSwgZW50cnkua2V5LCB0aGlzKTsKICAgIH0KICB9LAogIC8vIGBVUkxTZWFyY2hQYXJhbXMucHJvdG90eXBlLmtleXNgIG1ldGhvZAogIGtleXM6IGZ1bmN0aW9uIGtleXMoKSB7CiAgICByZXR1cm4gbmV3IFVSTFNlYXJjaFBhcmFtc0l0ZXJhdG9yKHRoaXMsICdrZXlzJyk7CiAgfSwKICAvLyBgVVJMU2VhcmNoUGFyYW1zLnByb3RvdHlwZS52YWx1ZXNgIG1ldGhvZAogIHZhbHVlczogZnVuY3Rpb24gdmFsdWVzKCkgewogICAgcmV0dXJuIG5ldyBVUkxTZWFyY2hQYXJhbXNJdGVyYXRvcih0aGlzLCAndmFsdWVzJyk7CiAgfSwKICAvLyBgVVJMU2VhcmNoUGFyYW1zLnByb3RvdHlwZS5lbnRyaWVzYCBtZXRob2QKICBlbnRyaWVzOiBmdW5jdGlvbiBlbnRyaWVzKCkgewogICAgcmV0dXJuIG5ldyBVUkxTZWFyY2hQYXJhbXNJdGVyYXRvcih0aGlzLCAnZW50cmllcycpOwogIH0KfSwgewogIGVudW1lcmFibGU6IHRydWUKfSk7IC8vIGBVUkxTZWFyY2hQYXJhbXMucHJvdG90eXBlW0BAaXRlcmF0b3JdYCBtZXRob2QKCnJlZGVmaW5lKFVSTFNlYXJjaFBhcmFtc1Byb3RvdHlwZSwgSVRFUkFUT1IsIFVSTFNlYXJjaFBhcmFtc1Byb3RvdHlwZS5lbnRyaWVzKTsgLy8gYFVSTFNlYXJjaFBhcmFtcy5wcm90b3R5cGUudG9TdHJpbmdgIG1ldGhvZAovLyBodHRwczovL3VybC5zcGVjLndoYXR3Zy5vcmcvI3VybHNlYXJjaHBhcmFtcy1zdHJpbmdpZmljYXRpb24tYmVoYXZpb3IKCnJlZGVmaW5lKFVSTFNlYXJjaFBhcmFtc1Byb3RvdHlwZSwgJ3RvU3RyaW5nJywgZnVuY3Rpb24gdG9TdHJpbmcoKSB7CiAgdmFyIGVudHJpZXMgPSBnZXRJbnRlcm5hbFBhcmFtc1N0YXRlKHRoaXMpLmVudHJpZXM7CiAgdmFyIHJlc3VsdCA9IFtdOwogIHZhciBpbmRleCA9IDA7CiAgdmFyIGVudHJ5OwoKICB3aGlsZSAoaW5kZXggPCBlbnRyaWVzLmxlbmd0aCkgewogICAgZW50cnkgPSBlbnRyaWVzW2luZGV4KytdOwogICAgcmVzdWx0LnB1c2goc2VyaWFsaXplKGVudHJ5LmtleSkgKyAnPScgKyBzZXJpYWxpemUoZW50cnkudmFsdWUpKTsKICB9CgogIHJldHVybiByZXN1bHQuam9pbignJicpOwp9LCB7CiAgZW51bWVyYWJsZTogdHJ1ZQp9KTsKc2V0VG9TdHJpbmdUYWcoVVJMU2VhcmNoUGFyYW1zQ29uc3RydWN0b3IsIFVSTF9TRUFSQ0hfUEFSQU1TKTsKJCh7CiAgZ2xvYmFsOiB0cnVlLAogIGZvcmNlZDogIVVTRV9OQVRJVkVfVVJMCn0sIHsKICBVUkxTZWFyY2hQYXJhbXM6IFVSTFNlYXJjaFBhcmFtc0NvbnN0cnVjdG9yCn0pOyAvLyBXcmFwIGBmZXRjaGAgZm9yIGNvcnJlY3Qgd29yayB3aXRoIHBvbHlmaWxsZWQgYFVSTFNlYXJjaFBhcmFtc2AKLy8gaHR0cHM6Ly9naXRodWIuY29tL3psb2lyb2NrL2NvcmUtanMvaXNzdWVzLzY3NAoKaWYgKCFVU0VfTkFUSVZFX1VSTCAmJiB0eXBlb2YgJGZldGNoID09ICdmdW5jdGlvbicgJiYgdHlwZW9mIEhlYWRlcnMgPT0gJ2Z1bmN0aW9uJykgewogICQoewogICAgZ2xvYmFsOiB0cnVlLAogICAgZW51bWVyYWJsZTogdHJ1ZSwKICAgIGZvcmNlZDogdHJ1ZQogIH0sIHsKICAgIGZldGNoOiBmdW5jdGlvbiBmZXRjaChpbnB1dAogICAgLyogLCBpbml0ICovCiAgICApIHsKICAgICAgdmFyIGFyZ3MgPSBbaW5wdXRdOwogICAgICB2YXIgaW5pdCwgYm9keSwgaGVhZGVyczsKCiAgICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID4gMSkgewogICAgICAgIGluaXQgPSBhcmd1bWVudHNbMV07CgogICAgICAgIGlmIChpc09iamVjdChpbml0KSkgewogICAgICAgICAgYm9keSA9IGluaXQuYm9keTsKCiAgICAgICAgICBpZiAoY2xhc3NvZihib2R5KSA9PT0gVVJMX1NFQVJDSF9QQVJBTVMpIHsKICAgICAgICAgICAgaGVhZGVycyA9IGluaXQuaGVhZGVycyA/IG5ldyBIZWFkZXJzKGluaXQuaGVhZGVycykgOiBuZXcgSGVhZGVycygpOwoKICAgICAgICAgICAgaWYgKCFoZWFkZXJzLmhhcygnY29udGVudC10eXBlJykpIHsKICAgICAgICAgICAgICBoZWFkZXJzLnNldCgnY29udGVudC10eXBlJywgJ2FwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZDtjaGFyc2V0PVVURi04Jyk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGluaXQgPSBjcmVhdGUoaW5pdCwgewogICAgICAgICAgICAgIGJvZHk6IGNyZWF0ZVByb3BlcnR5RGVzY3JpcHRvcigwLCBTdHJpbmcoYm9keSkpLAogICAgICAgICAgICAgIGhlYWRlcnM6IGNyZWF0ZVByb3BlcnR5RGVzY3JpcHRvcigwLCBoZWFkZXJzKQogICAgICAgICAgICB9KTsKICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIGFyZ3MucHVzaChpbml0KTsKICAgICAgfQoKICAgICAgcmV0dXJuICRmZXRjaC5hcHBseSh0aGlzLCBhcmdzKTsKICAgIH0KICB9KTsKfQoKbW9kdWxlLmV4cG9ydHMgPSB7CiAgVVJMU2VhcmNoUGFyYW1zOiBVUkxTZWFyY2hQYXJhbXNDb25zdHJ1Y3RvciwKICBnZXRTdGF0ZTogZ2V0SW50ZXJuYWxQYXJhbXNTdGF0ZQp9Ow=="},null]}