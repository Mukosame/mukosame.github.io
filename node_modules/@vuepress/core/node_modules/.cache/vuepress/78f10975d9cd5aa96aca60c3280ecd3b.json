{"remainingRequest":"/opt/myblog/vuepress-theme-reco-master/zdblog/node_modules/babel-loader/lib/index.js??ref--3-1!/opt/myblog/vuepress-theme-reco-master/zdblog/node_modules/@vssue/api-github-v4/lib/utils.js","dependencies":[{"path":"/opt/myblog/vuepress-theme-reco-master/zdblog/node_modules/@vssue/api-github-v4/lib/utils.js","mtime":1604064595705},{"path":"/opt/myblog/vuepress-theme-reco-master/zdblog/node_modules/cache-loader/dist/cjs.js","mtime":1603041438982},{"path":"/opt/myblog/vuepress-theme-reco-master/zdblog/node_modules/babel-loader/lib/index.js","mtime":1603041438713}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmluZCI7CmV4cG9ydCBmdW5jdGlvbiBub3JtYWxpemVVc2VyKHVzZXIpIHsKICAvLyB3b3JrYXJvdW5kIGZvciBkZWxldGVkIHVzZXIKICAvLyBAc2VlIGh0dHBzOi8vZ2l0aHViLmNvbW11bml0eS90NS9HaXRIdWItQVBJLURldmVsb3BtZW50LWFuZC9LZWVwLWRlbGV0ZWQtaXNzdWUtYXV0aG9yLWFzLWdob3N0L3RkLXAvMTU0NTYKICBpZiAodXNlciA9PT0gbnVsbCkgewogICAgcmV0dXJuIHsKICAgICAgdXNlcm5hbWU6ICdnaG9zdCcsCiAgICAgIGF2YXRhcjogJ2h0dHBzOi8vYXZhdGFyczMuZ2l0aHVidXNlcmNvbnRlbnQuY29tL3UvMTAxMzc/dj00JywKICAgICAgaG9tZXBhZ2U6ICdodHRwczovL2dpdGh1Yi5jb20vZ2hvc3QnCiAgICB9OwogIH0KCiAgcmV0dXJuIHsKICAgIHVzZXJuYW1lOiB1c2VyLmxvZ2luLAogICAgYXZhdGFyOiB1c2VyLmF2YXRhclVybCwKICAgIGhvbWVwYWdlOiB1c2VyLnVybAogIH07Cn0KZXhwb3J0IGZ1bmN0aW9uIG5vcm1hbGl6ZUlzc3VlKGlzc3VlKSB7CiAgcmV0dXJuIHsKICAgIGlkOiBpc3N1ZS5udW1iZXIsCiAgICB0aXRsZTogaXNzdWUudGl0bGUsCiAgICBjb250ZW50OiBpc3N1ZS5ib2R5LAogICAgbGluazogaXNzdWUudXJsCiAgfTsKfQpleHBvcnQgZnVuY3Rpb24gbm9ybWFsaXplUmVhY3Rpb25zKHJlYWN0aW9ucykgewogIHJldHVybiB7CiAgICBsaWtlOiByZWFjdGlvbnMuZmluZChmdW5jdGlvbiAoaXRlbSkgewogICAgICByZXR1cm4gaXRlbS5jb250ZW50ID09PSAnVEhVTUJTX1VQJzsKICAgIH0pLnVzZXJzLnRvdGFsQ291bnQsCiAgICB1bmxpa2U6IHJlYWN0aW9ucy5maW5kKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgIHJldHVybiBpdGVtLmNvbnRlbnQgPT09ICdUSFVNQlNfRE9XTic7CiAgICB9KS51c2Vycy50b3RhbENvdW50LAogICAgaGVhcnQ6IHJlYWN0aW9ucy5maW5kKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgIHJldHVybiBpdGVtLmNvbnRlbnQgPT09ICdIRUFSVCc7CiAgICB9KS51c2Vycy50b3RhbENvdW50CiAgfTsKfQpleHBvcnQgZnVuY3Rpb24gbm9ybWFsaXplQ29tbWVudChjb21tZW50KSB7CiAgcmV0dXJuIHsKICAgIGlkOiBjb21tZW50LmlkLAogICAgY29udGVudDogY29tbWVudC5ib2R5SFRNTCwKICAgIGNvbnRlbnRSYXc6IGNvbW1lbnQuYm9keSwKICAgIGF1dGhvcjogbm9ybWFsaXplVXNlcihjb21tZW50LmF1dGhvciksCiAgICBjcmVhdGVkQXQ6IGNvbW1lbnQuY3JlYXRlZEF0LAogICAgdXBkYXRlZEF0OiBjb21tZW50LnVwZGF0ZWRBdCwKICAgIHJlYWN0aW9uczogbm9ybWFsaXplUmVhY3Rpb25zKGNvbW1lbnQucmVhY3Rpb25Hcm91cHMpCiAgfTsKfQpleHBvcnQgZnVuY3Rpb24gbWFwUmVhY3Rpb25OYW1lKHJlYWN0aW9uKSB7CiAgaWYgKHJlYWN0aW9uID09PSAnbGlrZScpIHJldHVybiAnVEhVTUJTX1VQJzsKICBpZiAocmVhY3Rpb24gPT09ICd1bmxpa2UnKSByZXR1cm4gJ1RIVU1CU19ET1dOJzsKICBpZiAocmVhY3Rpb24gPT09ICdoZWFydCcpIHJldHVybiAnSEVBUlQnOwogIHJldHVybiByZWFjdGlvbjsKfQpleHBvcnQgZGVmYXVsdCB7CiAgbm9ybWFsaXplVXNlcjogbm9ybWFsaXplVXNlciwKICBub3JtYWxpemVJc3N1ZTogbm9ybWFsaXplSXNzdWUsCiAgbm9ybWFsaXplQ29tbWVudDogbm9ybWFsaXplQ29tbWVudCwKICBub3JtYWxpemVSZWFjdGlvbnM6IG5vcm1hbGl6ZVJlYWN0aW9ucywKICBtYXBSZWFjdGlvbk5hbWU6IG1hcFJlYWN0aW9uTmFtZQp9Ow=="},{"version":3,"sources":["../src/utils.ts"],"names":[],"mappings":";AASA,OAAM,SAAU,aAAV,CAAwB,IAAxB,EAA0C;AAC9C;AACA;AACA,MAAI,IAAI,KAAK,IAAb,EAAmB;AACjB,WAAO;AACL,MAAA,QAAQ,EAAE,OADL;AAEL,MAAA,MAAM,EAAE,oDAFH;AAGL,MAAA,QAAQ,EAAE;AAHL,KAAP;AAKD;;AACD,SAAO;AACL,IAAA,QAAQ,EAAE,IAAI,CAAC,KADV;AAEL,IAAA,MAAM,EAAE,IAAI,CAAC,SAFR;AAGL,IAAA,QAAQ,EAAE,IAAI,CAAC;AAHV,GAAP;AAKD;AAED,OAAM,SAAU,cAAV,CAAyB,KAAzB,EAA6C;AACjD,SAAO;AACL,IAAA,EAAE,EAAE,KAAK,CAAC,MADL;AAEL,IAAA,KAAK,EAAE,KAAK,CAAC,KAFR;AAGL,IAAA,OAAO,EAAE,KAAK,CAAC,IAHV;AAIL,IAAA,IAAI,EAAE,KAAK,CAAC;AAJP,GAAP;AAMD;AAED,OAAM,SAAU,kBAAV,CACJ,SADI,EACyB;AAE7B,SAAO;AACL,IAAA,IAAI,EAAE,SAAS,CAAC,IAAV,CAAe,UAAA,IAAI;AAAA,aAAI,IAAI,CAAC,OAAL,KAAiB,WAArB;AAAA,KAAnB,EAAsD,KAAtD,CACH,UAFE;AAGL,IAAA,MAAM,EAAE,SAAS,CAAC,IAAV,CAAe,UAAA,IAAI;AAAA,aAAI,IAAI,CAAC,OAAL,KAAiB,aAArB;AAAA,KAAnB,EAAwD,KAAxD,CACL,UAJE;AAKL,IAAA,KAAK,EAAE,SAAS,CAAC,IAAV,CAAe,UAAA,IAAI;AAAA,aAAI,IAAI,CAAC,OAAL,KAAiB,OAArB;AAAA,KAAnB,EAAkD,KAAlD,CAAwD;AAL1D,GAAP;AAOD;AAED,OAAM,SAAU,gBAAV,CAA2B,OAA3B,EAAmD;AACvD,SAAO;AACL,IAAA,EAAE,EAAE,OAAO,CAAC,EADP;AAEL,IAAA,OAAO,EAAE,OAAO,CAAC,QAFZ;AAGL,IAAA,UAAU,EAAE,OAAO,CAAC,IAHf;AAIL,IAAA,MAAM,EAAE,aAAa,CAAC,OAAO,CAAC,MAAT,CAJhB;AAKL,IAAA,SAAS,EAAE,OAAO,CAAC,SALd;AAML,IAAA,SAAS,EAAE,OAAO,CAAC,SANd;AAOL,IAAA,SAAS,EAAE,kBAAkB,CAAC,OAAO,CAAC,cAAT;AAPxB,GAAP;AASD;AAED,OAAM,SAAU,eAAV,CAA0B,QAA1B,EAA4D;AAChE,MAAI,QAAQ,KAAK,MAAjB,EAAyB,OAAO,WAAP;AACzB,MAAI,QAAQ,KAAK,QAAjB,EAA2B,OAAO,aAAP;AAC3B,MAAI,QAAQ,KAAK,OAAjB,EAA0B,OAAO,OAAP;AAC1B,SAAO,QAAP;AACD;AAED,eAAe;AACb,EAAA,aAAa,EAAb,aADa;AAEb,EAAA,cAAc,EAAd,cAFa;AAGb,EAAA,gBAAgB,EAAhB,gBAHa;AAIb,EAAA,kBAAkB,EAAlB,kBAJa;AAKb,EAAA,eAAe,EAAf;AALa,CAAf","sourceRoot":"","sourcesContent":["export function normalizeUser(user) {\n    // workaround for deleted user\n    // @see https://github.community/t5/GitHub-API-Development-and/Keep-deleted-issue-author-as-ghost/td-p/15456\n    if (user === null) {\n        return {\n            username: 'ghost',\n            avatar: 'https://avatars3.githubusercontent.com/u/10137?v=4',\n            homepage: 'https://github.com/ghost',\n        };\n    }\n    return {\n        username: user.login,\n        avatar: user.avatarUrl,\n        homepage: user.url,\n    };\n}\nexport function normalizeIssue(issue) {\n    return {\n        id: issue.number,\n        title: issue.title,\n        content: issue.body,\n        link: issue.url,\n    };\n}\nexport function normalizeReactions(reactions) {\n    return {\n        like: reactions.find(item => item.content === 'THUMBS_UP').users\n            .totalCount,\n        unlike: reactions.find(item => item.content === 'THUMBS_DOWN').users\n            .totalCount,\n        heart: reactions.find(item => item.content === 'HEART').users.totalCount,\n    };\n}\nexport function normalizeComment(comment) {\n    return {\n        id: comment.id,\n        content: comment.bodyHTML,\n        contentRaw: comment.body,\n        author: normalizeUser(comment.author),\n        createdAt: comment.createdAt,\n        updatedAt: comment.updatedAt,\n        reactions: normalizeReactions(comment.reactionGroups),\n    };\n}\nexport function mapReactionName(reaction) {\n    if (reaction === 'like')\n        return 'THUMBS_UP';\n    if (reaction === 'unlike')\n        return 'THUMBS_DOWN';\n    if (reaction === 'heart')\n        return 'HEART';\n    return reaction;\n}\nexport default {\n    normalizeUser,\n    normalizeIssue,\n    normalizeComment,\n    normalizeReactions,\n    mapReactionName,\n};\n//# sourceMappingURL=utils.js.map"]}]}