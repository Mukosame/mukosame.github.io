{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[50],{613:function(s,n,e){\"use strict\";e.r(n);var a=e(23),t=Object(a.a)({},(function(){var s=this,n=s.$createElement,e=s._self._c||n;return e(\"ContentSlotsDistributor\",{attrs:{\"slot-key\":s.$parent.slotKey}},[e(\"p\",[s._v(\"前提：\\n我的操作系统是Centos7，硬盘sda总共500G，其中安装系统的时候根分区和home分区以及swap分区用了部分磁盘空间，使用情况如下：\")]),s._v(\" \"),e(\"div\",{staticClass:\"language- line-numbers-mode\"},[e(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[e(\"code\",[s._v(\"[root@localhost ~]# df -h\\nFilesystem               Size  Used Avail Use% Mounted on\\n/dev/mapper/centos-root   50G  9.5G   41G  19% /\\ndevtmpfs                 3.7G     0  3.7G   0% /dev\\ntmpfs                    3.7G   41M  3.7G   2% /dev/shm\\ntmpfs                    3.7G   43M  3.7G   2% /run\\ntmpfs                    3.7G     0  3.7G   0% /sys/fs/cgroup\\n/dev/sda1               1014M  226M  789M  23% /boot\\n/dev/loop0               1.9G  6.1M  1.7G   1% /srv/node/swiftloopback\\n/dev/mapper/centos-home   80G  4.4G   76G   6% /home\\ntmpfs                    752M   44K  752M   1% /run/user/1000\\n\")])]),s._v(\" \"),e(\"div\",{staticClass:\"line-numbers-wrapper\"},[e(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),e(\"br\"),e(\"span\",{staticClass:\"line-number\"},[s._v(\"2\")]),e(\"br\"),e(\"span\",{staticClass:\"line-number\"},[s._v(\"3\")]),e(\"br\"),e(\"span\",{staticClass:\"line-number\"},[s._v(\"4\")]),e(\"br\"),e(\"span\",{staticClass:\"line-number\"},[s._v(\"5\")]),e(\"br\"),e(\"span\",{staticClass:\"line-number\"},[s._v(\"6\")]),e(\"br\"),e(\"span\",{staticClass:\"line-number\"},[s._v(\"7\")]),e(\"br\"),e(\"span\",{staticClass:\"line-number\"},[s._v(\"8\")]),e(\"br\"),e(\"span\",{staticClass:\"line-number\"},[s._v(\"9\")]),e(\"br\"),e(\"span\",{staticClass:\"line-number\"},[s._v(\"10\")]),e(\"br\"),e(\"span\",{staticClass:\"line-number\"},[s._v(\"11\")]),e(\"br\")])]),e(\"p\",[s._v(\"sda硬盘信息如下\")]),s._v(\" \"),e(\"div\",{staticClass:\"language- line-numbers-mode\"},[e(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[e(\"code\",[s._v(\"[root@localhost ~]# fdisk /dev/sda -l\\n\\nDisk /dev/sda: 480.1 GB, 480103981056 bytes, 937703088 sectors\\nUnits = sectors of 1 * 512 = 512 bytes\\nSector size (logical/physical): 512 bytes / 512 bytes\\nI/O size (minimum/optimal): 512 bytes / 512 bytes\\nDisk label type: dos\\nDisk identifier: 0x00026fa8\\n\\n   Device Boot      Start         End      Blocks   Id  System\\n/dev/sda1   *        2048     2099199     1048576   83  Linux\\n/dev/sda2         2099200   290467839   144184320   8e  Linux LVM\\n\\n\")])]),s._v(\" \"),e(\"div\",{staticClass:\"line-numbers-wrapper\"},[e(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),e(\"br\"),e(\"span\",{staticClass:\"line-number\"},[s._v(\"2\")]),e(\"br\"),e(\"span\",{staticClass:\"line-number\"},[s._v(\"3\")]),e(\"br\"),e(\"span\",{staticClass:\"line-number\"},[s._v(\"4\")]),e(\"br\"),e(\"span\",{staticClass:\"line-number\"},[s._v(\"5\")]),e(\"br\"),e(\"span\",{staticClass:\"line-number\"},[s._v(\"6\")]),e(\"br\"),e(\"span\",{staticClass:\"line-number\"},[s._v(\"7\")]),e(\"br\"),e(\"span\",{staticClass:\"line-number\"},[s._v(\"8\")]),e(\"br\"),e(\"span\",{staticClass:\"line-number\"},[s._v(\"9\")]),e(\"br\"),e(\"span\",{staticClass:\"line-number\"},[s._v(\"10\")]),e(\"br\"),e(\"span\",{staticClass:\"line-number\"},[s._v(\"11\")]),e(\"br\"),e(\"span\",{staticClass:\"line-number\"},[s._v(\"12\")]),e(\"br\"),e(\"span\",{staticClass:\"line-number\"},[s._v(\"13\")]),e(\"br\")])]),e(\"p\",[s._v(\"思路：\"),e(\"br\"),s._v(\"\\n1、由于packstack安装openstack的时候，cinder后端配置逻辑是创建20G的loop设备/dev/loop1，使用该loop设备创建pv，并加入vg cinder-volume中。\\n再创建名为cinder-volumes-pool的LV；\"),e(\"br\"),s._v(\"\\n2、由于我本地磁盘sda盘有500G，而系统使用的sda1,sda2后还剩下不少磁盘空间。故格式化一块盘sda3，然后基于该盘创建pv，并加入vg cinder-volume中。\\n之后扩大cinder-volumes-pool的lv；\")]),s._v(\" \"),e(\"p\",[s._v('步骤：\\n1、fdisk /dev/sda，使用\"n\",\"p\",\"t\"等指令，创建sda3的lvm格式磁盘'),e(\"br\"),s._v(\"\\n2、重启主机，以使磁盘生效\"),e(\"br\"),s._v(\"\\n3、pvcreate /dev/sda3，基于sda3创建pv\"),e(\"br\"),s._v(\"\\n4、vgextend cinder-volumes /dev/sda3，将新创建的pv加入到vg中\"),e(\"br\"),s._v(\"\\n5、lvresize -L 120G /dev/cinder-volumes/cinder-volumes-pool 扩大lv\"),e(\"br\"),s._v(\"\\n6、通过lvs命令查询，回显如下：\")]),s._v(\" \"),e(\"div\",{staticClass:\"language- line-numbers-mode\"},[e(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[e(\"code\",[s._v(\"[root@localhost ~]# lvs\\n  LV                  VG             Attr       LSize   Pool Origin Data%  Meta%  Move Log Cpy%Sync Convert\\n  home                centos         -wi-ao----  80.00g                                                    \\n  root                centos         -wi-ao----  50.00g                                                    \\n  swap                centos         -wi-ao----   7.50g                                                    \\n  cinder-volumes-pool cinder-volumes twi-a-tz-- 140.00g             0.00   2.91                            \\n\")])]),s._v(\" \"),e(\"div\",{staticClass:\"line-numbers-wrapper\"},[e(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),e(\"br\"),e(\"span\",{staticClass:\"line-number\"},[s._v(\"2\")]),e(\"br\"),e(\"span\",{staticClass:\"line-number\"},[s._v(\"3\")]),e(\"br\"),e(\"span\",{staticClass:\"line-number\"},[s._v(\"4\")]),e(\"br\"),e(\"span\",{staticClass:\"line-number\"},[s._v(\"5\")]),e(\"br\"),e(\"span\",{staticClass:\"line-number\"},[s._v(\"6\")]),e(\"br\")])]),e(\"p\",[s._v(\"扩容完成。。。。\")])])}),[],!1,null,null,null);n.default=t.exports}}]);","extractedComments":[]}