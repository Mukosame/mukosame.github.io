{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{574:function(e,o,v){\"use strict\";v.r(o);var n=v(23),s=Object(n.a)({},(function(){var e=this,o=e.$createElement,v=e._self._c||o;return v(\"ContentSlotsDistributor\",{attrs:{\"slot-key\":e.$parent.slotKey}},[v(\"p\",[e._v(\"按照devstack官网介绍，执行完\"),v(\"code\",[e._v(\"./devstack.sh\")]),e._v(\"后，经过各种网络问题后，安装完成。\")]),e._v(\" \"),v(\"hr\"),e._v(\" \"),v(\"p\",[e._v(\"1、环境变量的配置\\n安装完成后直接执行 \"),v(\"code\",[e._v(\"nova list\")]),e._v(\"，会提示\\n\"),v(\"code\",[e._v(\"You must provide a username or user ID via --os-username, env[OS_USERNAME] or --os-user_id, env[OS_USER_ID]\")])]),e._v(\" \"),v(\"p\",[e._v(\"好，接着导入环境变量：\\n进入devstack目录下。执行\"),v(\"code\",[e._v(\"source openrc admin demo\")])]),e._v(\" \"),v(\"hr\"),e._v(\" \"),v(\"p\",[e._v(\"2、创建虚拟机时，规格与镜像选择要匹配\\n创建个虚拟机试试：\\n\"),v(\"img\",{attrs:{src:\"/images/openstack/nova-boot-error-vm.jpg\",alt:\"title\"}}),e._v(\".\\n随便创建了个虚拟机，发现虚拟机不能用，状态为ERROR。\\n使用\"),v(\"code\",[e._v(\"nova show {instanceId}\")]),e._v(\"查看虚拟机message。发现“aborted: Flavor's disk is too small for requested image”\")]),e._v(\" \"),v(\"p\",[e._v(\"好吧，也就是说创建虚拟机时候，选择的flavor的规格一定要满足所选镜像所需要的规格大小。\")]),e._v(\" \"),v(\"p\",[e._v(\"之后发现，我的ubuntu虚拟机的内存2G，硬盘20G貌似不够创建一个虚拟机。\\n重新折腾了个3G内存，100G磁盘的虚拟机。\")]),e._v(\" \"),v(\"hr\"),e._v(\" \"),v(\"h2\",{attrs:{id:\"_3、关于hypervisor容量统计信息的疑问-之后发现一个奇怪的现象。就是hypervisor页面上关于容量的统计与实际情况不一致-如下图\"}},[v(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_3、关于hypervisor容量统计信息的疑问-之后发现一个奇怪的现象。就是hypervisor页面上关于容量的统计与实际情况不一致-如下图\"}},[e._v(\"#\")]),e._v(\" 3、关于hypervisor容量统计信息的疑问？\\n之后发现一个奇怪的现象。就是hypervisor页面上关于容量的统计与实际情况不一致，如下图：\\n\"),v(\"img\",{attrs:{src:\"/images/openstack/hypervisor%E7%96%91%E9%97%AE.jpg\",alt:\"title\"}}),e._v(\".\")]),e._v(\" \"),v(\"p\",[e._v(\"4、创建虚拟机成功后，horizon页面连接改虚拟机的VNC控制台失败，后台执行\"),v(\"code\",[e._v(\"nova get-vnc-console VM01 onvnc\")]),e._v(\"。提示：\")]),e._v(\" \"),v(\"ul\",[v(\"li\")]),e._v(\" \"),v(\"p\",[e._v(\"ClientException: The server has either erred or is incapable of performing the requested operation. (HTTP 500) (Request-ID: req-c2b3ab29-3d55-412b-aa6f-170835ca5ea4)\\nERROR (ClientException): The server has either erred or is incapable of performing the requested operation. (HTTP 500) (Request-ID: req-c2b3ab29-3d55-412b-aa6f-170835ca5ea4)*\")]),e._v(\" \"),v(\"p\",[e._v(\"由于该信息是由nova-console提供的。所以先检查下nova-console服务是否正常。\\n执行\"),v(\"code\",[e._v(\"nova-manage service list\")]),e._v(\"。结果如下图：\\n![title](/images/openstack/nova-manage service list.JPG).\")]),e._v(\" \"),v(\"p\",[e._v(\"观察到没有\"),v(\"code\",[e._v(\"nova-console\")]),e._v(\"服务。\\n尝试使用\"),v(\"code\",[e._v(\"nova-console\")]),e._v(\"命令启动\"),v(\"code\",[e._v(\"nova-console\")]),e._v(\"服务。启动成功后再次执行\"),v(\"code\",[e._v(\"nova get-vnc-console VM01 onvnc\")]),e._v(\"。则获取VM01虚拟机的VNC信息成功，复制到浏览器也可以打开VNC页面。horizon页面控制台也成功打开。\")]),e._v(\" \"),v(\"p\",[e._v(\"注：启动\"),v(\"code\",[e._v(\"nova-console\")]),e._v(\"服务后，还必须启动\"),v(\"code\",[e._v(\"nova-consoleauth\")]),e._v(\"服务，才可以正常使用vnc\")]),e._v(\" \"),v(\"hr\"),e._v(\" \"),v(\"p\",[e._v(\"5、安装devstack的虚拟机如果重启了执行\"),v(\"code\",[e._v(\"rejoin-stack.sh\")]),e._v(\",即可完成openstack各个服务的重启。\")]),e._v(\" \"),v(\"hr\"),e._v(\" \"),v(\"p\",[e._v(\"6、安装GNOME后，重启系统默认进入GNOME登陆界面，输入正确的用户名密码，不能进入桌面。\\n计划在server版本安装图形界面后使用eclipse+pydev调试openstack源码，依次安装eclipse，GNOME。\\n重启服务器后，默认进入GNOME登陆界面，输入正确的用户名密码，不能进入桌面。\"),v(\"code\",[e._v(\"crtl+alt+f1\")]),e._v(\"切换到命令行界面。\")])])}),[],!1,null,null,null);o.default=s.exports}}]);","extractedComments":[]}